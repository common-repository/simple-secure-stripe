!function(t,a){function e(){a.BaseGateway.call(this,sswps_googlepay_product_params),window.addEventListener("hashchange",this.hashchange.bind(this))}e.prototype=t.extend({},a.BaseGateway.prototype,a.ProductGateway.prototype,a.GooglePay.prototype),e.prototype.initialize=function(){if(!t(this.container).length)return setTimeout(this.initialize.bind(this),1e3);a.ProductGateway.call(this),this.createPaymentsClient(),this.isReadyToPay().then(function(){t(document.body).on("change",'[name="quantity"]',this.maybe_calculate_cart.bind(this)),t(this.container).show(),t(this.container).parent().parent().addClass("active"),this.is_variable_product()?this.variable_product_selected()?this.cart_calculation(this.get_product_data().variation.variation_id):this.disable_payment_button():this.cart_calculation()}.bind(this))},e.prototype.maybe_calculate_cart=function(){this.disable_payment_button(),this.is_variable_product()&&!this.variable_product_selected()||this.cart_calculation().then(function(t){this.enable_payment_button()}.bind(this)).catch(function(){this.enable_payment_button()}.bind(this))},e.prototype.found_variation=function(){a.ProductGateway.prototype.found_variation.apply(this,arguments),this.can_pay&&this.maybe_calculate_cart()},e.prototype.cart_calculation=function(){return a.ProductGateway.prototype.cart_calculation.apply(this,arguments).then(function(t){this.update_from_cart_calculation(t)}.bind(this))},e.prototype.create_button=function(){var e=document.querySelectorAll(".sswps-googlepay-product-container");e&&e.length>1?(this.$button&&this.$button.remove(),t.each(e,function(a,e){var i=t(this.paymentsClient.createButton(this.get_button_options()));i.addClass("gpay-button-container"),this.is_rectangle_button()&&i.find("button").removeClass("new_style"),t(e).append(i)}.bind(this)),this.$button=t(".sswps-googlepay-product-container").find(".gpay-button-container")):(a.GooglePay.prototype.create_button.apply(this,arguments),t("#sswps-googlepay-container").append(this.$button)),this.is_variable_product()&&(this.variable_product_selected()?this.enable_payment_button():this.disable_payment_button())},e.prototype.get_button=function(){return this.$button.find("button")},e.prototype.start=function(){this.get_quantity()>0?(this.needs_shipping()||this.add_to_cart(),a.GooglePay.prototype.start.apply(this,arguments)):this.submit_error(this.params.messages.invalid_amount)},e.prototype.update_payment_data=function(t){return a.GooglePay.prototype.update_payment_data.call(this,t,this.get_add_to_cart_data())},new e}(jQuery,sswps);
//# sourceMappingURL=googlepay-product.js.map