(()=>{"use strict";var n={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)},e="https://js.stripe.com/v3",t=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,r="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",o=null,a=function(n){return null!==o||(o=new Promise((function(o,a){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&n&&console.warn(r),window.Stripe)o(window.Stripe);else try{var i=function(){for(var n=document.querySelectorAll('script[src^="'.concat(e,'"]')),r=0;r<n.length;r++){var o=n[r];if(t.test(o.src))return o}return null}();i&&n?console.warn(r):i||(i=function(n){var t=n&&!n.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(e).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r}(n)),i.addEventListener("load",(function(){window.Stripe?o(window.Stripe):a(new Error("Stripe.js not available"))})),i.addEventListener("error",(function(){a(new Error("Failed to load Stripe.js"))}))}catch(n){return void a(n)}else o(null)}))),o},i=Promise.resolve().then((function(){return a(null)})),c=!1;i.catch((function(n){c||console.warn(n)}));const u=jQuery;var l,d=n.n(u),s={},p=function(){d()(document).on("wfocu_external",f),window.addEventListener("hashchange",w),wfocuCommons.addFilter("wfocu_front_charge_data",v),function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];c=!0;var r=Date.now();return i.then((function(n){return function(n,e,t){if(null===n)return null;var r=n.apply(void 0,e);return function(n,e){n&&n._registerWrapper&&n._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:e})}(r,t),r}(n,e,r)}))}(m("publishableKey"),m("account")?{stripeAccount:m("account")}:{}).then((function(n){l=n})).catch((function(n){console.log(n)}))},f=function(n,e){h("bucket",e)},w=function(n){var e=n.newURL.match(/response=(.*)/);if(e){var t,r,o=JSON.parse(window.atob(decodeURIComponent(e[1])));null===(t=m("bucket"))||void 0===t||null===(r=t.swal)||void 0===r||r.hide(),h("paymentIntent",o.payment_intent),history.pushState({},"",window.location.pathname+window.location.search),l.confirmCardPayment(o.client_secret).then((function(n){n.error?y():(h("paymentComplete",!0),m("bucket").sendBucket())})).catch((function(n){console.log(n)}))}},v=function(n){return n._payment_intent=m("paymentIntent"),n},m=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.hasOwnProperty(n)||(s[n]=e),s[n]},h=function(n,e){s[n]=e},y=function(){m("bucket").inOfferTransaction=!1,m("bucket").EnableButtonState(),m("bucket").HasEventRunning=!1};d()(document).on("wfocuBucketCreated",(function(n,e){var t,r;s=null===(t=window)||void 0===t||null===(r=t.wfocu_vars)||void 0===r?void 0:r.stripeData,h("bucket",e),p()}))})();
//# sourceMappingURL=sswps-funnelkit-upsell.js.map