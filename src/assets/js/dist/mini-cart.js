!function(t,e){function i(t){this.message_container=".widget_shopping_cart_content",e.BaseGateway.call(this,t,r)}function a(t){i.apply(this,arguments)}function n(t){i.apply(this,arguments)}function p(t){i.apply(this,arguments)}function s(t){i.apply(this,arguments)}i.prototype.on_token_received=function(){this.block(),this.block_cart(),e.BaseGateway.prototype.on_token_received.apply(this,arguments)},i.prototype.block_cart=function(){t(this.container).find(".sswps-minicart-overlay").addClass("active")},i.prototype.unblock_cart=function(){t(this.container).find(".sswps-minicart-overlay").removeClass("active")},i.prototype.get_gateway_data=function(){var e=".woocommerce_"+this.gateway_id+"_gateway_data",i=t(".woocommerce-mini-cart__buttons").find(e).data("gateway");return i||(i=t(e).data("gateway")),i||{}},a.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.GooglePay.prototype),a.prototype.initialize=function(){this.createPaymentsClient(),this.isReadyToPay().then(function(){this.append_button()}.bind(this))},a.prototype.create_button=function(){e.GooglePay.prototype.create_button.apply(this,arguments),this.append_button()},a.prototype.append_button=function(){t(this.container).find(".sswps-gpay-mini-cart").empty(),t(this.container).find(".sswps-gpay-mini-cart").append(this.$button).show()},n.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.ApplePay.prototype),n.prototype.initialize=function(){e.ApplePay.prototype.initialize.apply(this,arguments)},n.prototype.append_button=function(){t(this.container).find(".sswps-applepay-mini-cart").empty(),t(this.container).find(".sswps-applepay-mini-cart").append(this.$button).show()},p.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.PaymentRequest.prototype),p.prototype.initialize=function(){e.PaymentRequest.prototype.initialize.apply(this,arguments)},p.prototype.create_button=function(){this.append_button()},p.prototype.append_button=function(){t(this.container).find(".sswps-payment-request-mini-cart").empty().show(),this.paymentRequestButton.mount(t(this.container).find(".sswps-payment-request-mini-cart").first()[0])},s.prototype=Object.assign({},e.BaseGateway.prototype,i.prototype,e.Afterpay.prototype),s.prototype.is_currency_supported=function(){return this.params.currencies.indexOf(this.get_currency())>-1},s.prototype.initialize=function(){t(this.container).length&&this.is_currency_supported()&&(this.create_element(),this.mount_message())},s.prototype.create_element=function(){return this.elements.create("afterpayClearpayMessage",t.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.is_eligible(parseFloat(this.get_total_price()))}))},s.prototype.mount_message=function(){t(".sswps-afterpay-minicart-msg").length||t(".woocommerce-mini-cart__total").after('<p class="sswps-afterpay-minicart-msg buttons"></p>');var e=document.querySelectorAll(".sswps-afterpay-minicart-msg");e&&e.forEach(function(t){this.create_element().mount(t),this.add_eligibility(t,parseFloat(this.get_total_price()))}.bind(this))};var o=[],r=null;function c(){var e=t(".woocommerce-mini-cart__buttons");e.length||(e=t('a[class^="wc-stripe-"]')),e.each((function(e,i){var a=t(i).parent();if(a.length){var n="wc-stripe-mini-cart-idx-"+e;a.addClass(n),a.find(".wc-stripe-minicart-overlay").length||a.prepend('<div class="wc-stripe-minicart-overlay"></div>'),r="."+n,o.forEach((function(t){new t[0](t[1])}))}}))}"undefined"!=typeof sswps_googlepay_mini_cart_params&&o.push([a,sswps_googlepay_mini_cart_params]),"undefined"!=typeof sswps_applepay_mini_cart_params&&o.push([n,sswps_applepay_mini_cart_params]),"undefined"!=typeof sswps_payment_request_mini_cart_params&&o.push([p,sswps_payment_request_mini_cart_params]),"undefined"!=typeof sswps_afterpay_mini_cart_params&&o.push([s,sswps_afterpay_mini_cart_params]),t(document.body).on("wc_fragments_refreshed wc_fragments_loaded",(function(){setTimeout(c,250)})),setTimeout(c,500)}(jQuery,window.sswps);
//# sourceMappingURL=mini-cart.js.map