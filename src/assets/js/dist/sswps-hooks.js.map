{"version":3,"file":"sswps-hooks.js","mappings":"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","sources":["webpack://simple-secure-stripe/./node_modules/.pnpm/@stripe+react-stripe-js@2.1.1_@stripe+stripe-js@1.54.1_react-dom@18.2.0_react@18.2.0/node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@stripe+stripe-js@1.54.1/node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@tannin+compile@1.1.0/node_modules/@tannin/compile/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@tannin+evaluate@1.2.0/node_modules/@tannin/evaluate/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@tannin+plural-forms@1.1.0/node_modules/@tannin/plural-forms/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@tannin+postfix@1.1.0/node_modules/@tannin/postfix/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/fetch-all-middleware.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/http-v1.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/media-upload.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/namespace-endpoint.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/nonce.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/preloading.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/root-url.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/theme-preview.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/middlewares/user-locale.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+api-fetch@6.32.0/node_modules/@wordpress/api-fetch/build-module/utils/response.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createAddHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createCurrentHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createDidHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createDoingHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createHasHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createHooks.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createRemoveHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/createRunHook.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/validateHookName.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+hooks@3.35.0/node_modules/@wordpress/hooks/build-module/validateNamespace.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+i18n@4.35.0/node_modules/@wordpress/i18n/build-module/create-i18n.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+i18n@4.35.0/node_modules/@wordpress/i18n/build-module/default-i18n.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+i18n@4.35.0/node_modules/@wordpress/i18n/build-module/sprintf.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/add-query-args.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/build-query-string.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/get-query-arg.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/get-query-args.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/get-query-string.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/has-query-arg.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/normalize-path.js","webpack://simple-secure-stripe/./node_modules/.pnpm/@wordpress+url@3.36.0/node_modules/@wordpress/url/build-module/safe-decode-uri-component.js","webpack://simple-secure-stripe/./src/assets/js/integrations/WooCommerceBlocks/payment-methods/util.js","webpack://simple-secure-stripe/./node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js","webpack://simple-secure-stripe/./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/sprintf-js@1.1.2/node_modules/sprintf-js/src/sprintf.js","webpack://simple-secure-stripe/./node_modules/.pnpm/tannin@1.2.0/node_modules/tannin/index.js","webpack://simple-secure-stripe/./node_modules/.pnpm/memize@2.1.0/node_modules/memize/dist/index.js","webpack://simple-secure-stripe/webpack/bootstrap","webpack://simple-secure-stripe/webpack/runtime/compat get default export","webpack://simple-secure-stripe/webpack/runtime/define property getters","webpack://simple-secure-stripe/webpack/runtime/hasOwnProperty shorthand","webpack://simple-secure-stripe/./src/assets/js/integrations/WooCommerceBlocks/payment-methods/hooks/use-process-payment-intent.js","webpack://simple-secure-stripe/./src/assets/js/integrations/WooCommerceBlocks/payment-methods/hooks/use-payment-request.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = global || self, factory(global.ReactStripe = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n    // fallback to reference check.\n\n    if (!leftPlainObject && !leftArray) return left === right;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n    if (!isUnknownObject(options)) {\n      return null;\n    }\n\n    return Object.keys(options).reduce(function (newOptions, key) {\n      var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n      if (immutableKeys.includes(key)) {\n        if (isUpdated) {\n          console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n        }\n\n        return newOptions;\n      }\n\n      if (!isUpdated) {\n        return newOptions;\n      }\n\n      return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n    }, null);\n  };\n\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(INVALID_STRIPE_ERROR);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(validateStripe)\n      };\n    }\n\n    var stripe = validateStripe(raw);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var ElementsContext = /*#__PURE__*/React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  var CartElementContext = /*#__PURE__*/React.createContext(null);\n  CartElementContext.displayName = 'CartElementContext';\n  var parseCartElementContext = function parseCartElementContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]);\n\n    var _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        cart = _React$useState2[0],\n        setCart = _React$useState2[1];\n\n    var _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        cartState = _React$useState4[0],\n        setCartState = _React$useState4[1]; // For a sync stripe instance, initialize into context\n\n\n    var _React$useState5 = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n      };\n    }),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        ctx = _React$useState6[0],\n        setContext = _React$useState6[1];\n\n    React.useEffect(function () {\n      var isMounted = true;\n\n      var safeSetContext = function safeSetContext(stripe) {\n        setContext(function (ctx) {\n          // no-op if we already have a stripe instance (https://github.com/stripe/react-stripe-js/issues/296)\n          if (ctx.stripe) return ctx;\n          return {\n            stripe: stripe,\n            elements: stripe.elements(options)\n          };\n        });\n      }; // For an async stripePromise, store it in context once resolved\n\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            safeSetContext(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !ctx.stripe) {\n        // Or, handle a sync stripe instance going from null -> populated\n        safeSetContext(parsed.stripe);\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!ctx.elements) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n      if (updates) {\n        ctx.elements.update(updates);\n      }\n    }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      var anyStripe = ctx.stripe;\n\n      if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n        return;\n      }\n\n      anyStripe._registerWrapper({\n        name: 'react-stripe-js',\n        version: \"2.1.1\"\n      });\n\n      anyStripe.registerAppInfo({\n        name: 'react-stripe-js',\n        version: \"2.1.1\",\n        url: 'https://stripe.com/docs/stripe-js/react'\n      });\n    }, [ctx.stripe]);\n    return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, /*#__PURE__*/React.createElement(CartElementContext.Provider, {\n      value: {\n        cart: cart,\n        setCart: setCart,\n        cartState: cartState,\n        setCartState: setCartState\n      }\n    }, children));\n  };\n  Elements.propTypes = {\n    stripe: propTypes.any,\n    options: propTypes.object\n  };\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  var useCartElementContextWithUseCase = function useCartElementContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(CartElementContext);\n    return parseCartElementContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n  var useStripe = function useStripe() {\n    var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsContextWi2.stripe;\n\n    return stripe;\n  };\n  /**\n   * @docs https://stripe.com/docs/payments/checkout/cart-element\n   */\n\n  var useCartElement = function useCartElement() {\n    var _useCartElementContex = useCartElementContextWithUseCase('calls useCartElement()'),\n        cart = _useCartElementContex.cart;\n\n    return cart;\n  };\n  /**\n   * @docs https://stripe.com/docs/payments/checkout/cart-element\n   */\n\n  var useCartElementState = function useCartElementState() {\n    var _useCartElementContex2 = useCartElementContextWithUseCase('calls useCartElementState()'),\n        cartState = _useCartElementContex2.cartState;\n\n    return cartState;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n  ElementsConsumer.propTypes = {\n    children: propTypes.func.isRequired\n  };\n\n  var useAttachEvent = function useAttachEvent(element, event, cb) {\n    var cbDefined = !!cb;\n    var cbRef = React.useRef(cb); // In many integrations the callback prop changes on each render.\n    // Using a ref saves us from calling element.on/.off every render.\n\n    React.useEffect(function () {\n      cbRef.current = cb;\n    }, [cb]);\n    React.useEffect(function () {\n      if (!cbDefined || !element) {\n        return function () {};\n      }\n\n      var decoratedCb = function decoratedCb() {\n        if (cbRef.current) {\n          cbRef.current.apply(cbRef, arguments);\n        }\n      };\n\n      element.on(event, decoratedCb);\n      return function () {\n        element.off(event, decoratedCb);\n      };\n    }, [cbDefined, event, element, cbRef]);\n  };\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          onBlur = _ref.onBlur,\n          onFocus = _ref.onFocus,\n          onReady = _ref.onReady,\n          onChange = _ref.onChange,\n          onEscape = _ref.onEscape,\n          onClick = _ref.onClick,\n          onLoadError = _ref.onLoadError,\n          onLoaderStart = _ref.onLoaderStart,\n          onNetworksChange = _ref.onNetworksChange,\n          onCheckout = _ref.onCheckout,\n          onLineItemClick = _ref.onLineItemClick,\n          onConfirm = _ref.onConfirm,\n          onCancel = _ref.onCancel,\n          onShippingAddressChange = _ref.onShippingAddressChange,\n          onShippingRateChange = _ref.onShippingRateChange;\n\n      var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n          elements = _useElementsContextWi.elements;\n\n      var _React$useState = React.useState(null),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          element = _React$useState2[0],\n          setElement = _React$useState2[1];\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null);\n\n      var _useCartElementContex = useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n          setCart = _useCartElementContex.setCart,\n          setCartState = _useCartElementContex.setCartState; // For every event where the merchant provides a callback, call element.on\n      // with that callback. If the merchant ever changes the callback, removes\n      // the old callback with element.off and then call element.on with the new one.\n\n\n      useAttachEvent(element, 'blur', onBlur);\n      useAttachEvent(element, 'focus', onFocus);\n      useAttachEvent(element, 'escape', onEscape);\n      useAttachEvent(element, 'click', onClick);\n      useAttachEvent(element, 'loaderror', onLoadError);\n      useAttachEvent(element, 'loaderstart', onLoaderStart);\n      useAttachEvent(element, 'networkschange', onNetworksChange);\n      useAttachEvent(element, 'lineitemclick', onLineItemClick);\n      useAttachEvent(element, 'confirm', onConfirm);\n      useAttachEvent(element, 'cancel', onCancel);\n      useAttachEvent(element, 'shippingaddresschange', onShippingAddressChange);\n      useAttachEvent(element, 'shippingratechange', onShippingRateChange);\n      var readyCallback;\n\n      if (type === 'cart') {\n        readyCallback = function readyCallback(event) {\n          setCartState(event);\n          onReady && onReady(event);\n        };\n      } else if (onReady) {\n        if (type === 'expressCheckout') {\n          // Passes through the event, which includes visible PM types\n          readyCallback = onReady;\n        } else {\n          // For other Elements, pass through the Element itself.\n          readyCallback = function readyCallback() {\n            onReady(element);\n          };\n        }\n      }\n\n      useAttachEvent(element, 'ready', readyCallback);\n      var changeCallback = type === 'cart' ? function (event) {\n        setCartState(event);\n        onChange && onChange(event);\n      } : onChange;\n      useAttachEvent(element, 'change', changeCallback);\n      var checkoutCallback = type === 'cart' ? function (event) {\n        setCartState(event);\n        onCheckout && onCheckout(event);\n      } : onCheckout;\n      useAttachEvent(element, 'checkout', checkoutCallback);\n      React.useLayoutEffect(function () {\n        if (elementRef.current === null && elements && domNode.current !== null) {\n          var newElement = elements.create(type, options);\n\n          if (type === 'cart' && setCart) {\n            // we know that elements.create return value must be of type StripeCartElement if type is 'cart',\n            // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n            setCart(newElement);\n          } // Store element in a ref to ensure it's _immediately_ available in cleanup hooks in StrictMode\n\n\n          elementRef.current = newElement; // Store element in state to facilitate event listener attachment\n\n          setElement(newElement);\n          newElement.mount(domNode.current);\n        }\n      }, [elements, options, setCart]);\n      var prevOptions = usePrevious(options);\n      React.useEffect(function () {\n        if (!elementRef.current) {\n          return;\n        }\n\n        var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n        if (updates) {\n          elementRef.current.update(updates);\n        }\n      }, [options, prevOptions]);\n      React.useLayoutEffect(function () {\n        return function () {\n          if (elementRef.current && typeof elementRef.current.destroy === 'function') {\n            try {\n              elementRef.current.destroy();\n              elementRef.current = null;\n            } catch (error) {// Do nothing\n            }\n          }\n        };\n      }, []);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      // Validate that we are in the right context by calling useElementsContextWithUseCase.\n      useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var id = props.id,\n          className = props.className;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: propTypes.string,\n      className: propTypes.string,\n      onChange: propTypes.func,\n      onBlur: propTypes.func,\n      onFocus: propTypes.func,\n      onReady: propTypes.func,\n      onEscape: propTypes.func,\n      onClick: propTypes.func,\n      onLoadError: propTypes.func,\n      onLoaderStart: propTypes.func,\n      onNetworksChange: propTypes.func,\n      onCheckout: propTypes.func,\n      onLineItemClick: propTypes.func,\n      onConfirm: propTypes.func,\n      onCancel: propTypes.func,\n      onShippingAddressChange: propTypes.func,\n      onShippingRateChange: propTypes.func,\n      options: propTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var P24BankElement = createElementComponent('p24Bank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var EpsBankElement = createElementComponent('epsBank', isServer);\n  var PaymentElement = createElementComponent('payment', isServer);\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ExpressCheckoutElement = createElementComponent('expressCheckout', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AddressElement = createElementComponent('address', isServer);\n  /**\n   * @deprecated\n   * Use `AddressElement` instead.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/elements/cart-element\n   */\n\n  var CartElement = createElementComponent('cart', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentMethodMessagingElement = createElementComponent('paymentMethodMessaging', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n  exports.AddressElement = AddressElement;\n  exports.AffirmMessageElement = AffirmMessageElement;\n  exports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.CartElement = CartElement;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.EpsBankElement = EpsBankElement;\n  exports.ExpressCheckoutElement = ExpressCheckoutElement;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.LinkAuthenticationElement = LinkAuthenticationElement;\n  exports.P24BankElement = P24BankElement;\n  exports.PaymentElement = PaymentElement;\n  exports.PaymentMethodMessagingElement = PaymentMethodMessagingElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.ShippingAddressElement = ShippingAddressElement;\n  exports.useCartElement = useCartElement;\n  exports.useCartElementState = useCartElementState;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.54.1\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import postfix from '@tannin/postfix';\nimport evaluate from '@tannin/evaluate';\n\n/**\n * Given a C expression, returns a function which can be called to evaluate its\n * result.\n *\n * @example\n *\n * ```js\n * import compile from '@tannin/compile';\n *\n * const evaluate = compile( 'n > 1' );\n *\n * evaluate( { n: 2 } );\n * //  true\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {(variables?:{[variable:string]:*})=>*} Compiled evaluator.\n */\nexport default function compile( expression ) {\n\tvar terms = postfix( expression );\n\n\treturn function( variables ) {\n\t\treturn evaluate( terms, variables );\n\t};\n}\n","/**\n * Operator callback functions.\n *\n * @type {Object}\n */\nvar OPERATORS = {\n\t'!': function( a ) {\n\t\treturn ! a;\n\t},\n\t'*': function( a, b ) {\n\t\treturn a * b;\n\t},\n\t'/': function( a, b ) {\n\t\treturn a / b;\n\t},\n\t'%': function( a, b ) {\n\t\treturn a % b;\n\t},\n\t'+': function( a, b ) {\n\t\treturn a + b;\n\t},\n\t'-': function( a, b ) {\n\t\treturn a - b;\n\t},\n\t'<': function( a, b ) {\n\t\treturn a < b;\n\t},\n\t'<=': function( a, b ) {\n\t\treturn a <= b;\n\t},\n\t'>': function( a, b ) {\n\t\treturn a > b;\n\t},\n\t'>=': function( a, b ) {\n\t\treturn a >= b;\n\t},\n\t'==': function( a, b ) {\n\t\treturn a === b;\n\t},\n\t'!=': function( a, b ) {\n\t\treturn a !== b;\n\t},\n\t'&&': function( a, b ) {\n\t\treturn a && b;\n\t},\n\t'||': function( a, b ) {\n\t\treturn a || b;\n\t},\n\t'?:': function( a, b, c ) {\n\t\tif ( a ) {\n\t\t\tthrow b;\n\t\t}\n\n\t\treturn c;\n\t},\n};\n\n/**\n * Given an array of postfix terms and operand variables, returns the result of\n * the postfix evaluation.\n *\n * @example\n *\n * ```js\n * import evaluate from '@tannin/evaluate';\n *\n * // 3 + 4 * 5 / 6  '3 4 5 * 6 / +'\n * const terms = [ '3', '4', '5', '*', '6', '/', '+' ];\n *\n * evaluate( terms, {} );\n * //  6.333333333333334\n * ```\n *\n * @param {string[]} postfix   Postfix terms.\n * @param {Object}   variables Operand variables.\n *\n * @return {*} Result of evaluation.\n */\nexport default function evaluate( postfix, variables ) {\n\tvar stack = [],\n\t\ti, j, args, getOperatorResult, term, value;\n\n\tfor ( i = 0; i < postfix.length; i++ ) {\n\t\tterm = postfix[ i ];\n\n\t\tgetOperatorResult = OPERATORS[ term ];\n\t\tif ( getOperatorResult ) {\n\t\t\t// Pop from stack by number of function arguments.\n\t\t\tj = getOperatorResult.length;\n\t\t\targs = Array( j );\n\t\t\twhile ( j-- ) {\n\t\t\t\targs[ j ] = stack.pop();\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tvalue = getOperatorResult.apply( null, args );\n\t\t\t} catch ( earlyReturn ) {\n\t\t\t\treturn earlyReturn;\n\t\t\t}\n\t\t} else if ( variables.hasOwnProperty( term ) ) {\n\t\t\tvalue = variables[ term ];\n\t\t} else {\n\t\t\tvalue = +term;\n\t\t}\n\n\t\tstack.push( value );\n\t}\n\n\treturn stack[ 0 ];\n}\n","import compile from '@tannin/compile';\n\n/**\n * Given a C expression, returns a function which, when called with a value,\n * evaluates the result with the value assumed to be the \"n\" variable of the\n * expression. The result will be coerced to its numeric equivalent.\n *\n * @param {string} expression C expression.\n *\n * @return {Function} Evaluator function.\n */\nexport default function pluralForms( expression ) {\n\tvar evaluate = compile( expression );\n\n\treturn function( n ) {\n\t\treturn +evaluate( { n: n } );\n\t};\n}\n","var PRECEDENCE, OPENERS, TERMINATORS, PATTERN;\n\n/**\n * Operator precedence mapping.\n *\n * @type {Object}\n */\nPRECEDENCE = {\n\t'(': 9,\n\t'!': 8,\n\t'*': 7,\n\t'/': 7,\n\t'%': 7,\n\t'+': 6,\n\t'-': 6,\n\t'<': 5,\n\t'<=': 5,\n\t'>': 5,\n\t'>=': 5,\n\t'==': 4,\n\t'!=': 4,\n\t'&&': 3,\n\t'||': 2,\n\t'?': 1,\n\t'?:': 1,\n};\n\n/**\n * Characters which signal pair opening, to be terminated by terminators.\n *\n * @type {string[]}\n */\nOPENERS = [ '(', '?' ];\n\n/**\n * Characters which signal pair termination, the value an array with the\n * opener as its first member. The second member is an optional operator\n * replacement to push to the stack.\n *\n * @type {string[]}\n */\nTERMINATORS = {\n\t')': [ '(' ],\n\t':': [ '?', '?:' ],\n};\n\n/**\n * Pattern matching operators and openers.\n *\n * @type {RegExp}\n */\nPATTERN = /<=|>=|==|!=|&&|\\|\\||\\?:|\\(|!|\\*|\\/|%|\\+|-|<|>|\\?|\\)|:/;\n\n/**\n * Given a C expression, returns the equivalent postfix (Reverse Polish)\n * notation terms as an array.\n *\n * If a postfix string is desired, simply `.join( ' ' )` the result.\n *\n * @example\n *\n * ```js\n * import postfix from '@tannin/postfix';\n *\n * postfix( 'n > 1' );\n * //  [ 'n', '1', '>' ]\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {string[]} Postfix terms.\n */\nexport default function postfix( expression ) {\n\tvar terms = [],\n\t\tstack = [],\n\t\tmatch, operator, term, element;\n\n\twhile ( ( match = expression.match( PATTERN ) ) ) {\n\t\toperator = match[ 0 ];\n\n\t\t// Term is the string preceding the operator match. It may contain\n\t\t// whitespace, and may be empty (if operator is at beginning).\n\t\tterm = expression.substr( 0, match.index ).trim();\n\t\tif ( term ) {\n\t\t\tterms.push( term );\n\t\t}\n\n\t\twhile ( ( element = stack.pop() ) ) {\n\t\t\tif ( TERMINATORS[ operator ] ) {\n\t\t\t\tif ( TERMINATORS[ operator ][ 0 ] === element ) {\n\t\t\t\t\t// Substitution works here under assumption that because\n\t\t\t\t\t// the assigned operator will no longer be a terminator, it\n\t\t\t\t\t// will be pushed to the stack during the condition below.\n\t\t\t\t\toperator = TERMINATORS[ operator ][ 1 ] || operator;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if ( OPENERS.indexOf( element ) >= 0 || PRECEDENCE[ element ] < PRECEDENCE[ operator ] ) {\n\t\t\t\t// Push to stack if either an opener or when pop reveals an\n\t\t\t\t// element of lower precedence.\n\t\t\t\tstack.push( element );\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// For each popped from stack, push to terms.\n\t\t\tterms.push( element );\n\t\t}\n\n\t\tif ( ! TERMINATORS[ operator ] ) {\n\t\t\tstack.push( operator );\n\t\t}\n\n\t\t// Slice matched fragment from expression to continue match.\n\t\texpression = expression.substr( match.index + operator.length );\n\t}\n\n\t// Push remainder of operand, if exists, to terms.\n\texpression = expression.trim();\n\tif ( expression ) {\n\t\tterms.push( expression );\n\t}\n\n\t// Pop remaining items from stack into terms.\n\treturn terms.concat( stack.reverse() );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n/**\n * Internal dependencies\n */\n\nimport createNonceMiddleware from './middlewares/nonce';\nimport createRootURLMiddleware from './middlewares/root-url';\nimport createPreloadingMiddleware from './middlewares/preloading';\nimport fetchAllMiddleware from './middlewares/fetch-all-middleware';\nimport namespaceEndpointMiddleware from './middlewares/namespace-endpoint';\nimport httpV1Middleware from './middlewares/http-v1';\nimport userLocaleMiddleware from './middlewares/user-locale';\nimport mediaUploadMiddleware from './middlewares/media-upload';\nimport createThemePreviewMiddleware from './middlewares/theme-preview';\nimport { parseResponseAndNormalizeError, parseAndThrowError } from './utils/response';\n/**\n * Default set of header values which should be sent with every request unless\n * explicitly provided through apiFetch options.\n *\n * @type {Record<string, string>}\n */\n\nconst DEFAULT_HEADERS = {\n  // The backend uses the Accept header as a condition for considering an\n  // incoming request as a REST request.\n  //\n  // See: https://core.trac.wordpress.org/ticket/44534\n  Accept: 'application/json, */*;q=0.1'\n};\n/**\n * Default set of fetch option values which should be sent with every request\n * unless explicitly provided through apiFetch options.\n *\n * @type {Object}\n */\n\nconst DEFAULT_OPTIONS = {\n  credentials: 'include'\n};\n/** @typedef {import('./types').APIFetchMiddleware} APIFetchMiddleware */\n\n/** @typedef {import('./types').APIFetchOptions} APIFetchOptions */\n\n/**\n * @type {import('./types').APIFetchMiddleware[]}\n */\n\nconst middlewares = [userLocaleMiddleware, namespaceEndpointMiddleware, httpV1Middleware, fetchAllMiddleware];\n/**\n * Register a middleware\n *\n * @param {import('./types').APIFetchMiddleware} middleware\n */\n\nfunction registerMiddleware(middleware) {\n  middlewares.unshift(middleware);\n}\n/**\n * Checks the status of a response, throwing the Response as an error if\n * it is outside the 200 range.\n *\n * @param {Response} response\n * @return {Response} The response if the status is in the 200 range.\n */\n\n\nconst checkStatus = response => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  throw response;\n};\n/** @typedef {(options: import('./types').APIFetchOptions) => Promise<any>} FetchHandler*/\n\n/**\n * @type {FetchHandler}\n */\n\n\nconst defaultFetchHandler = nextOptions => {\n  const {\n    url,\n    path,\n    data,\n    parse = true,\n    ...remainingOptions\n  } = nextOptions;\n  let {\n    body,\n    headers\n  } = nextOptions; // Merge explicitly-provided headers with default values.\n\n  headers = { ...DEFAULT_HEADERS,\n    ...headers\n  }; // The `data` property is a shorthand for sending a JSON body.\n\n  if (data) {\n    body = JSON.stringify(data);\n    headers['Content-Type'] = 'application/json';\n  }\n\n  const responsePromise = window.fetch( // Fall back to explicitly passing `window.location` which is the behavior if `undefined` is passed.\n  url || path || window.location.href, { ...DEFAULT_OPTIONS,\n    ...remainingOptions,\n    body,\n    headers\n  });\n  return responsePromise.then(value => Promise.resolve(value).then(checkStatus).catch(response => parseAndThrowError(response, parse)).then(response => parseResponseAndNormalizeError(response, parse)), err => {\n    // Re-throw AbortError for the users to handle it themselves.\n    if (err && err.name === 'AbortError') {\n      throw err;\n    } // Otherwise, there is most likely no network connection.\n    // Unfortunately the message might depend on the browser.\n\n\n    throw {\n      code: 'fetch_error',\n      message: __('You are probably offline.')\n    };\n  });\n};\n/** @type {FetchHandler} */\n\n\nlet fetchHandler = defaultFetchHandler;\n/**\n * Defines a custom fetch handler for making the requests that will override\n * the default one using window.fetch\n *\n * @param {FetchHandler} newFetchHandler The new fetch handler\n */\n\nfunction setFetchHandler(newFetchHandler) {\n  fetchHandler = newFetchHandler;\n}\n/**\n * @template T\n * @param {import('./types').APIFetchOptions} options\n * @return {Promise<T>} A promise representing the request processed via the registered middlewares.\n */\n\n\nfunction apiFetch(options) {\n  // creates a nested function chain that calls all middlewares and finally the `fetchHandler`,\n  // converting `middlewares = [ m1, m2, m3 ]` into:\n  // ```\n  // opts1 => m1( opts1, opts2 => m2( opts2, opts3 => m3( opts3, fetchHandler ) ) );\n  // ```\n  const enhancedHandler = middlewares.reduceRight((\n  /** @type {FetchHandler} */\n  next, middleware) => {\n    return workingOptions => middleware(workingOptions, next);\n  }, fetchHandler);\n  return enhancedHandler(options).catch(error => {\n    if (error.code !== 'rest_cookie_invalid_nonce') {\n      return Promise.reject(error);\n    } // If the nonce is invalid, refresh it and try again.\n\n\n    return window // @ts-ignore\n    .fetch(apiFetch.nonceEndpoint).then(checkStatus).then(data => data.text()).then(text => {\n      // @ts-ignore\n      apiFetch.nonceMiddleware.nonce = text;\n      return apiFetch(options);\n    });\n  });\n}\n\napiFetch.use = registerMiddleware;\napiFetch.setFetchHandler = setFetchHandler;\napiFetch.createNonceMiddleware = createNonceMiddleware;\napiFetch.createPreloadingMiddleware = createPreloadingMiddleware;\napiFetch.createRootURLMiddleware = createRootURLMiddleware;\napiFetch.fetchAllMiddleware = fetchAllMiddleware;\napiFetch.mediaUploadMiddleware = mediaUploadMiddleware;\napiFetch.createThemePreviewMiddleware = createThemePreviewMiddleware;\nexport default apiFetch;\n//# sourceMappingURL=index.js.map","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n/**\n * Internal dependencies\n */\n\nimport apiFetch from '..';\n/**\n * Apply query arguments to both URL and Path, whichever is present.\n *\n * @param {import('../types').APIFetchOptions} props\n * @param {Record<string, string | number>}    queryArgs\n * @return {import('../types').APIFetchOptions} The request with the modified query args\n */\n\nconst modifyQuery = ({\n  path,\n  url,\n  ...options\n}, queryArgs) => ({ ...options,\n  url: url && addQueryArgs(url, queryArgs),\n  path: path && addQueryArgs(path, queryArgs)\n});\n/**\n * Duplicates parsing functionality from apiFetch.\n *\n * @param {Response} response\n * @return {Promise<any>} Parsed response json.\n */\n\n\nconst parseResponse = response => response.json ? response.json() : Promise.reject(response);\n/**\n * @param {string | null} linkHeader\n * @return {{ next?: string }} The parsed link header.\n */\n\n\nconst parseLinkHeader = linkHeader => {\n  if (!linkHeader) {\n    return {};\n  }\n\n  const match = linkHeader.match(/<([^>]+)>; rel=\"next\"/);\n  return match ? {\n    next: match[1]\n  } : {};\n};\n/**\n * @param {Response} response\n * @return {string | undefined} The next page URL.\n */\n\n\nconst getNextPageUrl = response => {\n  const {\n    next\n  } = parseLinkHeader(response.headers.get('link'));\n  return next;\n};\n/**\n * @param {import('../types').APIFetchOptions} options\n * @return {boolean} True if the request contains an unbounded query.\n */\n\n\nconst requestContainsUnboundedQuery = options => {\n  const pathIsUnbounded = !!options.path && options.path.indexOf('per_page=-1') !== -1;\n  const urlIsUnbounded = !!options.url && options.url.indexOf('per_page=-1') !== -1;\n  return pathIsUnbounded || urlIsUnbounded;\n};\n/**\n * The REST API enforces an upper limit on the per_page option. To handle large\n * collections, apiFetch consumers can pass `per_page=-1`; this middleware will\n * then recursively assemble a full response array from all available pages.\n *\n * @type {import('../types').APIFetchMiddleware}\n */\n\n\nconst fetchAllMiddleware = async (options, next) => {\n  if (options.parse === false) {\n    // If a consumer has opted out of parsing, do not apply middleware.\n    return next(options);\n  }\n\n  if (!requestContainsUnboundedQuery(options)) {\n    // If neither url nor path is requesting all items, do not apply middleware.\n    return next(options);\n  } // Retrieve requested page of results.\n\n\n  const response = await apiFetch({ ...modifyQuery(options, {\n      per_page: 100\n    }),\n    // Ensure headers are returned for page 1.\n    parse: false\n  });\n  const results = await parseResponse(response);\n\n  if (!Array.isArray(results)) {\n    // We have no reliable way of merging non-array results.\n    return results;\n  }\n\n  let nextPage = getNextPageUrl(response);\n\n  if (!nextPage) {\n    // There are no further pages to request.\n    return results;\n  } // Iteratively fetch all remaining pages until no \"next\" header is found.\n\n\n  let mergedResults =\n  /** @type {any[]} */\n  [].concat(results);\n\n  while (nextPage) {\n    const nextResponse = await apiFetch({ ...options,\n      // Ensure the URL for the next page is used instead of any provided path.\n      path: undefined,\n      url: nextPage,\n      // Ensure we still get headers so we can identify the next page.\n      parse: false\n    });\n    const nextResults = await parseResponse(nextResponse);\n    mergedResults = mergedResults.concat(nextResults);\n    nextPage = getNextPageUrl(nextResponse);\n  }\n\n  return mergedResults;\n};\n\nexport default fetchAllMiddleware;\n//# sourceMappingURL=fetch-all-middleware.js.map","/**\n * Set of HTTP methods which are eligible to be overridden.\n *\n * @type {Set<string>}\n */\nconst OVERRIDE_METHODS = new Set(['PATCH', 'PUT', 'DELETE']);\n/**\n * Default request method.\n *\n * \"A request has an associated method (a method). Unless stated otherwise it\n * is `GET`.\"\n *\n * @see  https://fetch.spec.whatwg.org/#requests\n *\n * @type {string}\n */\n\nconst DEFAULT_METHOD = 'GET';\n/**\n * API Fetch middleware which overrides the request method for HTTP v1\n * compatibility leveraging the REST API X-HTTP-Method-Override header.\n *\n * @type {import('../types').APIFetchMiddleware}\n */\n\nconst httpV1Middleware = (options, next) => {\n  const {\n    method = DEFAULT_METHOD\n  } = options;\n\n  if (OVERRIDE_METHODS.has(method.toUpperCase())) {\n    options = { ...options,\n      headers: { ...options.headers,\n        'X-HTTP-Method-Override': method,\n        'Content-Type': 'application/json'\n      },\n      method: 'POST'\n    };\n  }\n\n  return next(options);\n};\n\nexport default httpV1Middleware;\n//# sourceMappingURL=http-v1.js.map","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n/**\n * Internal dependencies\n */\n\nimport { parseAndThrowError, parseResponseAndNormalizeError } from '../utils/response';\n/**\n * @param {import('../types').APIFetchOptions} options\n * @return {boolean} True if the request is for media upload.\n */\n\nfunction isMediaUploadRequest(options) {\n  const isCreateMethod = !!options.method && options.method === 'POST';\n  const isMediaEndpoint = !!options.path && options.path.indexOf('/wp/v2/media') !== -1 || !!options.url && options.url.indexOf('/wp/v2/media') !== -1;\n  return isMediaEndpoint && isCreateMethod;\n}\n/**\n * Middleware handling media upload failures and retries.\n *\n * @type {import('../types').APIFetchMiddleware}\n */\n\n\nconst mediaUploadMiddleware = (options, next) => {\n  if (!isMediaUploadRequest(options)) {\n    return next(options);\n  }\n\n  let retries = 0;\n  const maxRetries = 5;\n  /**\n   * @param {string} attachmentId\n   * @return {Promise<any>} Processed post response.\n   */\n\n  const postProcess = attachmentId => {\n    retries++;\n    return next({\n      path: `/wp/v2/media/${attachmentId}/post-process`,\n      method: 'POST',\n      data: {\n        action: 'create-image-subsizes'\n      },\n      parse: false\n    }).catch(() => {\n      if (retries < maxRetries) {\n        return postProcess(attachmentId);\n      }\n\n      next({\n        path: `/wp/v2/media/${attachmentId}?force=true`,\n        method: 'DELETE'\n      });\n      return Promise.reject();\n    });\n  };\n\n  return next({ ...options,\n    parse: false\n  }).catch(response => {\n    const attachmentId = response.headers.get('x-wp-upload-attachment-id');\n\n    if (response.status >= 500 && response.status < 600 && attachmentId) {\n      return postProcess(attachmentId).catch(() => {\n        if (options.parse !== false) {\n          return Promise.reject({\n            code: 'post_process',\n            message: __('Media upload failed. If this is a photo or a large image, please scale it down and try again.')\n          });\n        }\n\n        return Promise.reject(response);\n      });\n    }\n\n    return parseAndThrowError(response, options.parse);\n  }).then(response => parseResponseAndNormalizeError(response, options.parse));\n};\n\nexport default mediaUploadMiddleware;\n//# sourceMappingURL=media-upload.js.map","/**\n * @type {import('../types').APIFetchMiddleware}\n */\nconst namespaceAndEndpointMiddleware = (options, next) => {\n  let path = options.path;\n  let namespaceTrimmed, endpointTrimmed;\n\n  if (typeof options.namespace === 'string' && typeof options.endpoint === 'string') {\n    namespaceTrimmed = options.namespace.replace(/^\\/|\\/$/g, '');\n    endpointTrimmed = options.endpoint.replace(/^\\//, '');\n\n    if (endpointTrimmed) {\n      path = namespaceTrimmed + '/' + endpointTrimmed;\n    } else {\n      path = namespaceTrimmed;\n    }\n  }\n\n  delete options.namespace;\n  delete options.endpoint;\n  return next({ ...options,\n    path\n  });\n};\n\nexport default namespaceAndEndpointMiddleware;\n//# sourceMappingURL=namespace-endpoint.js.map","/**\n * @param {string} nonce\n * @return {import('../types').APIFetchMiddleware & { nonce: string }} A middleware to enhance a request with a nonce.\n */\nfunction createNonceMiddleware(nonce) {\n  /**\n   * @type {import('../types').APIFetchMiddleware & { nonce: string }}\n   */\n  const middleware = (options, next) => {\n    const {\n      headers = {}\n    } = options; // If an 'X-WP-Nonce' header (or any case-insensitive variation\n    // thereof) was specified, no need to add a nonce header.\n\n    for (const headerName in headers) {\n      if (headerName.toLowerCase() === 'x-wp-nonce' && headers[headerName] === middleware.nonce) {\n        return next(options);\n      }\n    }\n\n    return next({ ...options,\n      headers: { ...headers,\n        'X-WP-Nonce': middleware.nonce\n      }\n    });\n  };\n\n  middleware.nonce = nonce;\n  return middleware;\n}\n\nexport default createNonceMiddleware;\n//# sourceMappingURL=nonce.js.map","/**\n * WordPress dependencies\n */\nimport { addQueryArgs, getQueryArgs, normalizePath } from '@wordpress/url';\n/**\n * @param {Record<string, any>} preloadedData\n * @return {import('../types').APIFetchMiddleware} Preloading middleware.\n */\n\nfunction createPreloadingMiddleware(preloadedData) {\n  const cache = Object.fromEntries(Object.entries(preloadedData).map(([path, data]) => [normalizePath(path), data]));\n  return (options, next) => {\n    const {\n      parse = true\n    } = options;\n    /** @type {string | void} */\n\n    let rawPath = options.path;\n\n    if (!rawPath && options.url) {\n      const {\n        rest_route: pathFromQuery,\n        ...queryArgs\n      } = getQueryArgs(options.url);\n\n      if (typeof pathFromQuery === 'string') {\n        rawPath = addQueryArgs(pathFromQuery, queryArgs);\n      }\n    }\n\n    if (typeof rawPath !== 'string') {\n      return next(options);\n    }\n\n    const method = options.method || 'GET';\n    const path = normalizePath(rawPath);\n\n    if ('GET' === method && cache[path]) {\n      const cacheData = cache[path]; // Unsetting the cache key ensures that the data is only used a single time.\n\n      delete cache[path];\n      return prepareResponse(cacheData, !!parse);\n    } else if ('OPTIONS' === method && cache[method] && cache[method][path]) {\n      const cacheData = cache[method][path]; // Unsetting the cache key ensures that the data is only used a single time.\n\n      delete cache[method][path];\n      return prepareResponse(cacheData, !!parse);\n    }\n\n    return next(options);\n  };\n}\n/**\n * This is a helper function that sends a success response.\n *\n * @param {Record<string, any>} responseData\n * @param {boolean}             parse\n * @return {Promise<any>} Promise with the response.\n */\n\n\nfunction prepareResponse(responseData, parse) {\n  return Promise.resolve(parse ? responseData.body : new window.Response(JSON.stringify(responseData.body), {\n    status: 200,\n    statusText: 'OK',\n    headers: responseData.headers\n  }));\n}\n\nexport default createPreloadingMiddleware;\n//# sourceMappingURL=preloading.js.map","/**\n * Internal dependencies\n */\nimport namespaceAndEndpointMiddleware from './namespace-endpoint';\n/**\n * @param {string} rootURL\n * @return {import('../types').APIFetchMiddleware} Root URL middleware.\n */\n\nconst createRootURLMiddleware = rootURL => (options, next) => {\n  return namespaceAndEndpointMiddleware(options, optionsWithPath => {\n    let url = optionsWithPath.url;\n    let path = optionsWithPath.path;\n    let apiRoot;\n\n    if (typeof path === 'string') {\n      apiRoot = rootURL;\n\n      if (-1 !== rootURL.indexOf('?')) {\n        path = path.replace('?', '&');\n      }\n\n      path = path.replace(/^\\//, ''); // API root may already include query parameter prefix if site is\n      // configured to use plain permalinks.\n\n      if ('string' === typeof apiRoot && -1 !== apiRoot.indexOf('?')) {\n        path = path.replace('?', '&');\n      }\n\n      url = apiRoot + path;\n    }\n\n    return next({ ...optionsWithPath,\n      url\n    });\n  });\n};\n\nexport default createRootURLMiddleware;\n//# sourceMappingURL=root-url.js.map","/**\n * WordPress dependencies\n */\nimport { addQueryArgs, hasQueryArg } from '@wordpress/url';\n/**\n * This appends a `theme_preview` parameter to the REST API request URL if\n * the admin URL contains a `theme` GET parameter.\n *\n * @param {Record<string, any>} themePath\n * @return {import('../types').APIFetchMiddleware} Preloading middleware.\n */\n\nconst createThemePreviewMiddleware = themePath => (options, next) => {\n  if (typeof options.url === 'string' && !hasQueryArg(options.url, 'theme_preview')) {\n    options.url = addQueryArgs(options.url, {\n      theme_preview: themePath\n    });\n  }\n\n  if (typeof options.path === 'string' && !hasQueryArg(options.path, 'theme_preview')) {\n    options.path = addQueryArgs(options.path, {\n      theme_preview: themePath\n    });\n  }\n\n  return next(options);\n};\n\nexport default createThemePreviewMiddleware;\n//# sourceMappingURL=theme-preview.js.map","/**\n * WordPress dependencies\n */\nimport { addQueryArgs, hasQueryArg } from '@wordpress/url';\n/**\n * @type {import('../types').APIFetchMiddleware}\n */\n\nconst userLocaleMiddleware = (options, next) => {\n  if (typeof options.url === 'string' && !hasQueryArg(options.url, '_locale')) {\n    options.url = addQueryArgs(options.url, {\n      _locale: 'user'\n    });\n  }\n\n  if (typeof options.path === 'string' && !hasQueryArg(options.path, '_locale')) {\n    options.path = addQueryArgs(options.path, {\n      _locale: 'user'\n    });\n  }\n\n  return next(options);\n};\n\nexport default userLocaleMiddleware;\n//# sourceMappingURL=user-locale.js.map","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n/**\n * Parses the apiFetch response.\n *\n * @param {Response} response\n * @param {boolean}  shouldParseResponse\n *\n * @return {Promise<any> | null | Response} Parsed response.\n */\n\nconst parseResponse = (response, shouldParseResponse = true) => {\n  if (shouldParseResponse) {\n    if (response.status === 204) {\n      return null;\n    }\n\n    return response.json ? response.json() : Promise.reject(response);\n  }\n\n  return response;\n};\n/**\n * Calls the `json` function on the Response, throwing an error if the response\n * doesn't have a json function or if parsing the json itself fails.\n *\n * @param {Response} response\n * @return {Promise<any>} Parsed response.\n */\n\n\nconst parseJsonAndNormalizeError = response => {\n  const invalidJsonError = {\n    code: 'invalid_json',\n    message: __('The response is not a valid JSON response.')\n  };\n\n  if (!response || !response.json) {\n    throw invalidJsonError;\n  }\n\n  return response.json().catch(() => {\n    throw invalidJsonError;\n  });\n};\n/**\n * Parses the apiFetch response properly and normalize response errors.\n *\n * @param {Response} response\n * @param {boolean}  shouldParseResponse\n *\n * @return {Promise<any>} Parsed response.\n */\n\n\nexport const parseResponseAndNormalizeError = (response, shouldParseResponse = true) => {\n  return Promise.resolve(parseResponse(response, shouldParseResponse)).catch(res => parseAndThrowError(res, shouldParseResponse));\n};\n/**\n * Parses a response, throwing an error if parsing the response fails.\n *\n * @param {Response} response\n * @param {boolean}  shouldParseResponse\n * @return {Promise<any>} Parsed response.\n */\n\nexport function parseAndThrowError(response, shouldParseResponse = true) {\n  if (!shouldParseResponse) {\n    throw response;\n  }\n\n  return parseJsonAndNormalizeError(response).then(error => {\n    const unknownError = {\n      code: 'unknown_error',\n      message: __('An unknown error occurred.')\n    };\n    throw error || unknownError;\n  });\n}\n//# sourceMappingURL=response.js.map","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n/**\n * @callback AddHook\n *\n * Adds the hook to the appropriate hooks container.\n *\n * @param {string}               hookName      Name of hook to add\n * @param {string}               namespace     The unique namespace identifying the callback in the form `vendor/plugin/function`.\n * @param {import('.').Callback} callback      Function to call when the hook is run\n * @param {number}               [priority=10] Priority of this hook\n */\n\n/**\n * Returns a function which, when invoked, will add a hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {AddHook} Function that adds a new hook.\n */\n\nfunction createAddHook(hooks, storeKey) {\n  return function addHook(hookName, namespace, callback, priority = 10) {\n    const hooksStore = hooks[storeKey];\n\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    if (!validateNamespace(namespace)) {\n      return;\n    }\n\n    if ('function' !== typeof callback) {\n      // eslint-disable-next-line no-console\n      console.error('The hook callback must be a function.');\n      return;\n    } // Validate numeric priority\n\n\n    if ('number' !== typeof priority) {\n      // eslint-disable-next-line no-console\n      console.error('If specified, the hook priority must be a number.');\n      return;\n    }\n\n    const handler = {\n      callback,\n      priority,\n      namespace\n    };\n\n    if (hooksStore[hookName]) {\n      // Find the correct insert index of the new hook.\n      const handlers = hooksStore[hookName].handlers;\n      /** @type {number} */\n\n      let i;\n\n      for (i = handlers.length; i > 0; i--) {\n        if (priority >= handlers[i - 1].priority) {\n          break;\n        }\n      }\n\n      if (i === handlers.length) {\n        // If append, operate via direct assignment.\n        handlers[i] = handler;\n      } else {\n        // Otherwise, insert before index via splice.\n        handlers.splice(i, 0, handler);\n      } // We may also be currently executing this hook.  If the callback\n      // we're adding would come after the current callback, there's no\n      // problem; otherwise we need to increase the execution index of\n      // any other runs by 1 to account for the added element.\n\n\n      hooksStore.__current.forEach(hookInfo => {\n        if (hookInfo.name === hookName && hookInfo.currentIndex >= i) {\n          hookInfo.currentIndex++;\n        }\n      });\n    } else {\n      // This is the first hook of its type.\n      hooksStore[hookName] = {\n        handlers: [handler],\n        runs: 0\n      };\n    }\n\n    if (hookName !== 'hookAdded') {\n      hooks.doAction('hookAdded', hookName, namespace, callback, priority);\n    }\n  };\n}\n\nexport default createAddHook;\n//# sourceMappingURL=createAddHook.js.map","/**\n * Returns a function which, when invoked, will return the name of the\n * currently running hook, or `null` if no hook of the given type is currently\n * running.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {() => string | null} Function that returns the current hook name or null.\n */\nfunction createCurrentHook(hooks, storeKey) {\n  return function currentHook() {\n    var _hooksStore$__current;\n\n    const hooksStore = hooks[storeKey];\n    return (_hooksStore$__current = hooksStore.__current[hooksStore.__current.length - 1]?.name) !== null && _hooksStore$__current !== void 0 ? _hooksStore$__current : null;\n  };\n}\n\nexport default createCurrentHook;\n//# sourceMappingURL=createCurrentHook.js.map","/**\n * Internal dependencies\n */\nimport validateHookName from './validateHookName.js';\n/**\n * @callback DidHook\n *\n * Returns the number of times an action has been fired.\n *\n * @param {string} hookName The hook name to check.\n *\n * @return {number | undefined} The number of times the hook has run.\n */\n\n/**\n * Returns a function which, when invoked, will return the number of times a\n * hook has been called.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DidHook} Function that returns a hook's call count.\n */\n\nfunction createDidHook(hooks, storeKey) {\n  return function didHook(hookName) {\n    const hooksStore = hooks[storeKey];\n\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    return hooksStore[hookName] && hooksStore[hookName].runs ? hooksStore[hookName].runs : 0;\n  };\n}\n\nexport default createDidHook;\n//# sourceMappingURL=createDidHook.js.map","/**\n * @callback DoingHook\n * Returns whether a hook is currently being executed.\n *\n * @param {string} [hookName] The name of the hook to check for.  If\n *                            omitted, will check for any hook being executed.\n *\n * @return {boolean} Whether the hook is being executed.\n */\n\n/**\n * Returns a function which, when invoked, will return whether a hook is\n * currently being executed.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {DoingHook} Function that returns whether a hook is currently\n *                     being executed.\n */\nfunction createDoingHook(hooks, storeKey) {\n  return function doingHook(hookName) {\n    const hooksStore = hooks[storeKey]; // If the hookName was not passed, check for any current hook.\n\n    if ('undefined' === typeof hookName) {\n      return 'undefined' !== typeof hooksStore.__current[0];\n    } // Return the __current hook.\n\n\n    return hooksStore.__current[0] ? hookName === hooksStore.__current[0].name : false;\n  };\n}\n\nexport default createDoingHook;\n//# sourceMappingURL=createDoingHook.js.map","/**\n * @callback HasHook\n *\n * Returns whether any handlers are attached for the given hookName and optional namespace.\n *\n * @param {string} hookName    The name of the hook to check for.\n * @param {string} [namespace] Optional. The unique namespace identifying the callback\n *                             in the form `vendor/plugin/function`.\n *\n * @return {boolean} Whether there are handlers that are attached to the given hook.\n */\n\n/**\n * Returns a function which, when invoked, will return whether any handlers are\n * attached to a particular hook.\n *\n * @param {import('.').Hooks}    hooks    Hooks instance.\n * @param {import('.').StoreKey} storeKey\n *\n * @return {HasHook} Function that returns whether any handlers are\n *                   attached to a particular hook and optional namespace.\n */\nfunction createHasHook(hooks, storeKey) {\n  return function hasHook(hookName, namespace) {\n    const hooksStore = hooks[storeKey]; // Use the namespace if provided.\n\n    if ('undefined' !== typeof namespace) {\n      return hookName in hooksStore && hooksStore[hookName].handlers.some(hook => hook.namespace === namespace);\n    }\n\n    return hookName in hooksStore;\n  };\n}\n\nexport default createHasHook;\n//# sourceMappingURL=createHasHook.js.map","/**\n * Internal dependencies\n */\nimport createAddHook from './createAddHook';\nimport createRemoveHook from './createRemoveHook';\nimport createHasHook from './createHasHook';\nimport createRunHook from './createRunHook';\nimport createCurrentHook from './createCurrentHook';\nimport createDoingHook from './createDoingHook';\nimport createDidHook from './createDidHook';\n/**\n * Internal class for constructing hooks. Use `createHooks()` function\n *\n * Note, it is necessary to expose this class to make its type public.\n *\n * @private\n */\n\nexport class _Hooks {\n  constructor() {\n    /** @type {import('.').Store} actions */\n    this.actions = Object.create(null);\n    this.actions.__current = [];\n    /** @type {import('.').Store} filters */\n\n    this.filters = Object.create(null);\n    this.filters.__current = [];\n    this.addAction = createAddHook(this, 'actions');\n    this.addFilter = createAddHook(this, 'filters');\n    this.removeAction = createRemoveHook(this, 'actions');\n    this.removeFilter = createRemoveHook(this, 'filters');\n    this.hasAction = createHasHook(this, 'actions');\n    this.hasFilter = createHasHook(this, 'filters');\n    this.removeAllActions = createRemoveHook(this, 'actions', true);\n    this.removeAllFilters = createRemoveHook(this, 'filters', true);\n    this.doAction = createRunHook(this, 'actions');\n    this.applyFilters = createRunHook(this, 'filters', true);\n    this.currentAction = createCurrentHook(this, 'actions');\n    this.currentFilter = createCurrentHook(this, 'filters');\n    this.doingAction = createDoingHook(this, 'actions');\n    this.doingFilter = createDoingHook(this, 'filters');\n    this.didAction = createDidHook(this, 'actions');\n    this.didFilter = createDidHook(this, 'filters');\n  }\n\n}\n/** @typedef {_Hooks} Hooks */\n\n/**\n * Returns an instance of the hooks object.\n *\n * @return {Hooks} A Hooks instance.\n */\n\nfunction createHooks() {\n  return new _Hooks();\n}\n\nexport default createHooks;\n//# sourceMappingURL=createHooks.js.map","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\n/**\n * @callback RemoveHook\n * Removes the specified callback (or all callbacks) from the hook with a given hookName\n * and namespace.\n *\n * @param {string} hookName  The name of the hook to modify.\n * @param {string} namespace The unique namespace identifying the callback in the\n *                           form `vendor/plugin/function`.\n *\n * @return {number | undefined} The number of callbacks removed.\n */\n\n/**\n * Returns a function which, when invoked, will remove a specified hook or all\n * hooks by the given name.\n *\n * @param {import('.').Hooks}    hooks             Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [removeAll=false] Whether to remove all callbacks for a hookName,\n *                                                 without regard to namespace. Used to create\n *                                                 `removeAll*` functions.\n *\n * @return {RemoveHook} Function that removes hooks.\n */\n\nfunction createRemoveHook(hooks, storeKey, removeAll = false) {\n  return function removeHook(hookName, namespace) {\n    const hooksStore = hooks[storeKey];\n\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    if (!removeAll && !validateNamespace(namespace)) {\n      return;\n    } // Bail if no hooks exist by this name.\n\n\n    if (!hooksStore[hookName]) {\n      return 0;\n    }\n\n    let handlersRemoved = 0;\n\n    if (removeAll) {\n      handlersRemoved = hooksStore[hookName].handlers.length;\n      hooksStore[hookName] = {\n        runs: hooksStore[hookName].runs,\n        handlers: []\n      };\n    } else {\n      // Try to find the specified callback to remove.\n      const handlers = hooksStore[hookName].handlers;\n\n      for (let i = handlers.length - 1; i >= 0; i--) {\n        if (handlers[i].namespace === namespace) {\n          handlers.splice(i, 1);\n          handlersRemoved++; // This callback may also be part of a hook that is\n          // currently executing.  If the callback we're removing\n          // comes after the current callback, there's no problem;\n          // otherwise we need to decrease the execution index of any\n          // other runs by 1 to account for the removed element.\n\n          hooksStore.__current.forEach(hookInfo => {\n            if (hookInfo.name === hookName && hookInfo.currentIndex >= i) {\n              hookInfo.currentIndex--;\n            }\n          });\n        }\n      }\n    }\n\n    if (hookName !== 'hookRemoved') {\n      hooks.doAction('hookRemoved', hookName, namespace);\n    }\n\n    return handlersRemoved;\n  };\n}\n\nexport default createRemoveHook;\n//# sourceMappingURL=createRemoveHook.js.map","/**\n * Returns a function which, when invoked, will execute all callbacks\n * registered to a hook of the specified type, optionally returning the final\n * value of the call chain.\n *\n * @param {import('.').Hooks}    hooks                  Hooks instance.\n * @param {import('.').StoreKey} storeKey\n * @param {boolean}              [returnFirstArg=false] Whether each hook callback is expected to\n *                                                      return its first argument.\n *\n * @return {(hookName:string, ...args: unknown[]) => unknown} Function that runs hook callbacks.\n */\nfunction createRunHook(hooks, storeKey, returnFirstArg = false) {\n  return function runHooks(hookName, ...args) {\n    const hooksStore = hooks[storeKey];\n\n    if (!hooksStore[hookName]) {\n      hooksStore[hookName] = {\n        handlers: [],\n        runs: 0\n      };\n    }\n\n    hooksStore[hookName].runs++;\n    const handlers = hooksStore[hookName].handlers; // The following code is stripped from production builds.\n\n    if ('production' !== process.env.NODE_ENV) {\n      // Handle any 'all' hooks registered.\n      if ('hookAdded' !== hookName && hooksStore.all) {\n        handlers.push(...hooksStore.all.handlers);\n      }\n    }\n\n    if (!handlers || !handlers.length) {\n      return returnFirstArg ? args[0] : undefined;\n    }\n\n    const hookInfo = {\n      name: hookName,\n      currentIndex: 0\n    };\n\n    hooksStore.__current.push(hookInfo);\n\n    while (hookInfo.currentIndex < handlers.length) {\n      const handler = handlers[hookInfo.currentIndex];\n      const result = handler.callback.apply(null, args);\n\n      if (returnFirstArg) {\n        args[0] = result;\n      }\n\n      hookInfo.currentIndex++;\n    }\n\n    hooksStore.__current.pop();\n\n    if (returnFirstArg) {\n      return args[0];\n    }\n  };\n}\n\nexport default createRunHook;\n//# sourceMappingURL=createRunHook.js.map","/**\n * Internal dependencies\n */\nimport createHooks from './createHooks';\n/** @typedef {(...args: any[])=>any} Callback */\n\n/**\n * @typedef Handler\n * @property {Callback} callback  The callback\n * @property {string}   namespace The namespace\n * @property {number}   priority  The namespace\n */\n\n/**\n * @typedef Hook\n * @property {Handler[]} handlers Array of handlers\n * @property {number}    runs     Run counter\n */\n\n/**\n * @typedef Current\n * @property {string} name         Hook name\n * @property {number} currentIndex The index\n */\n\n/**\n * @typedef {Record<string, Hook> & {__current: Current[]}} Store\n */\n\n/**\n * @typedef {'actions' | 'filters'} StoreKey\n */\n\n/**\n * @typedef {import('./createHooks').Hooks} Hooks\n */\n\nexport const defaultHooks = createHooks();\nconst {\n  addAction,\n  addFilter,\n  removeAction,\n  removeFilter,\n  hasAction,\n  hasFilter,\n  removeAllActions,\n  removeAllFilters,\n  doAction,\n  applyFilters,\n  currentAction,\n  currentFilter,\n  doingAction,\n  doingFilter,\n  didAction,\n  didFilter,\n  actions,\n  filters\n} = defaultHooks;\nexport { createHooks, addAction, addFilter, removeAction, removeFilter, hasAction, hasFilter, removeAllActions, removeAllFilters, doAction, applyFilters, currentAction, currentFilter, doingAction, doingFilter, didAction, didFilter, actions, filters };\n//# sourceMappingURL=index.js.map","/**\n * Validate a hookName string.\n *\n * @param {string} hookName The hook name to validate. Should be a non empty string containing\n *                          only numbers, letters, dashes, periods and underscores. Also,\n *                          the hook name cannot begin with `__`.\n *\n * @return {boolean} Whether the hook name is valid.\n */\nfunction validateHookName(hookName) {\n  if ('string' !== typeof hookName || '' === hookName) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name must be a non-empty string.');\n    return false;\n  }\n\n  if (/^__/.test(hookName)) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name cannot begin with `__`.');\n    return false;\n  }\n\n  if (!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(hookName)) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name can only contain numbers, letters, dashes, periods and underscores.');\n    return false;\n  }\n\n  return true;\n}\n\nexport default validateHookName;\n//# sourceMappingURL=validateHookName.js.map","/**\n * Validate a namespace string.\n *\n * @param {string} namespace The namespace to validate - should take the form\n *                           `vendor/plugin/function`.\n *\n * @return {boolean} Whether the namespace is valid.\n */\nfunction validateNamespace(namespace) {\n  if ('string' !== typeof namespace || '' === namespace) {\n    // eslint-disable-next-line no-console\n    console.error('The namespace must be a non-empty string.');\n    return false;\n  }\n\n  if (!/^[a-zA-Z][a-zA-Z0-9_.\\-\\/]*$/.test(namespace)) {\n    // eslint-disable-next-line no-console\n    console.error('The namespace can only contain numbers, letters, dashes, periods, underscores and slashes.');\n    return false;\n  }\n\n  return true;\n}\n\nexport default validateNamespace;\n//# sourceMappingURL=validateNamespace.js.map","/**\n * External dependencies\n */\nimport Tannin from 'tannin';\n/**\n * @typedef {Record<string,any>} LocaleData\n */\n\n/**\n * Default locale data to use for Tannin domain when not otherwise provided.\n * Assumes an English plural forms expression.\n *\n * @type {LocaleData}\n */\n\nconst DEFAULT_LOCALE_DATA = {\n  '': {\n    /** @param {number} n */\n    plural_forms(n) {\n      return n === 1 ? 0 : 1;\n    }\n\n  }\n};\n/*\n * Regular expression that matches i18n hooks like `i18n.gettext`, `i18n.ngettext`,\n * `i18n.gettext_domain` or `i18n.ngettext_with_context` or `i18n.has_translation`.\n */\n\nconst I18N_HOOK_REGEXP = /^i18n\\.(n?gettext|has_translation)(_|$)/;\n/**\n * @typedef {(domain?: string) => LocaleData} GetLocaleData\n *\n * Returns locale data by domain in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} SetLocaleData\n *\n * Merges locale data into the Tannin instance by domain. Note that this\n * function will overwrite the domain configuration. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} AddLocaleData\n *\n * Merges locale data into the Tannin instance by domain. Note that this\n * function will also merge the domain configuration. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n\n/**\n * @typedef {(data?: LocaleData, domain?: string) => void} ResetLocaleData\n *\n * Resets all current Tannin instance locale data and sets the specified\n * locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n */\n\n/** @typedef {() => void} SubscribeCallback */\n\n/** @typedef {() => void} UnsubscribeCallback */\n\n/**\n * @typedef {(callback: SubscribeCallback) => UnsubscribeCallback} Subscribe\n *\n * Subscribes to changes of locale data\n */\n\n/**\n * @typedef {(domain?: string) => string} GetFilterDomain\n * Retrieve the domain to use when calling domain-specific filters.\n */\n\n/**\n * @typedef {(text: string, domain?: string) => string} __\n *\n * Retrieve the translation of text.\n *\n * @see https://developer.wordpress.org/reference/functions/__/\n */\n\n/**\n * @typedef {(text: string, context: string, domain?: string) => string} _x\n *\n * Retrieve translated string with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_x/\n */\n\n/**\n * @typedef {(single: string, plural: string, number: number, domain?: string) => string} _n\n *\n * Translates and retrieves the singular or plural form based on the supplied\n * number.\n *\n * @see https://developer.wordpress.org/reference/functions/_n/\n */\n\n/**\n * @typedef {(single: string, plural: string, number: number, context: string, domain?: string) => string} _nx\n *\n * Translates and retrieves the singular or plural form based on the supplied\n * number, with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_nx/\n */\n\n/**\n * @typedef {() => boolean} IsRtl\n *\n * Check if current locale is RTL.\n *\n * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n */\n\n/**\n * @typedef {(single: string, context?: string, domain?: string) => boolean} HasTranslation\n *\n * Check if there is a translation for a given string in singular form.\n */\n\n/** @typedef {import('@wordpress/hooks').Hooks} Hooks */\n\n/**\n * An i18n instance\n *\n * @typedef I18n\n * @property {GetLocaleData}   getLocaleData   Returns locale data by domain in a Jed-formatted JSON object shape.\n * @property {SetLocaleData}   setLocaleData   Merges locale data into the Tannin instance by domain. Note that this\n *                                             function will overwrite the domain configuration. Accepts data in a\n *                                             Jed-formatted JSON object shape.\n * @property {AddLocaleData}   addLocaleData   Merges locale data into the Tannin instance by domain. Note that this\n *                                             function will also merge the domain configuration. Accepts data in a\n *                                             Jed-formatted JSON object shape.\n * @property {ResetLocaleData} resetLocaleData Resets all current Tannin instance locale data and sets the specified\n *                                             locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n * @property {Subscribe}       subscribe       Subscribes to changes of Tannin locale data.\n * @property {__}              __              Retrieve the translation of text.\n * @property {_x}              _x              Retrieve translated string with gettext context.\n * @property {_n}              _n              Translates and retrieves the singular or plural form based on the supplied\n *                                             number.\n * @property {_nx}             _nx             Translates and retrieves the singular or plural form based on the supplied\n *                                             number, with gettext context.\n * @property {IsRtl}           isRTL           Check if current locale is RTL.\n * @property {HasTranslation}  hasTranslation  Check if there is a translation for a given string.\n */\n\n/**\n * Create an i18n instance\n *\n * @param {LocaleData} [initialData]   Locale data configuration.\n * @param {string}     [initialDomain] Domain for which configuration applies.\n * @param {Hooks}      [hooks]         Hooks implementation.\n *\n * @return {I18n} I18n instance.\n */\n\nexport const createI18n = (initialData, initialDomain, hooks) => {\n  /**\n   * The underlying instance of Tannin to which exported functions interface.\n   *\n   * @type {Tannin}\n   */\n  const tannin = new Tannin({});\n  const listeners = new Set();\n\n  const notifyListeners = () => {\n    listeners.forEach(listener => listener());\n  };\n  /**\n   * Subscribe to changes of locale data.\n   *\n   * @param {SubscribeCallback} callback Subscription callback.\n   * @return {UnsubscribeCallback} Unsubscribe callback.\n   */\n\n\n  const subscribe = callback => {\n    listeners.add(callback);\n    return () => listeners.delete(callback);\n  };\n  /** @type {GetLocaleData} */\n\n\n  const getLocaleData = (domain = 'default') => tannin.data[domain];\n  /**\n   * @param {LocaleData} [data]\n   * @param {string}     [domain]\n   */\n\n\n  const doSetLocaleData = (data, domain = 'default') => {\n    tannin.data[domain] = { ...tannin.data[domain],\n      ...data\n    }; // Populate default domain configuration (supported locale date which omits\n    // a plural forms expression).\n\n    tannin.data[domain][''] = { ...DEFAULT_LOCALE_DATA[''],\n      ...tannin.data[domain]?.['']\n    }; // Clean up cached plural forms functions cache as it might be updated.\n\n    delete tannin.pluralForms[domain];\n  };\n  /** @type {SetLocaleData} */\n\n\n  const setLocaleData = (data, domain) => {\n    doSetLocaleData(data, domain);\n    notifyListeners();\n  };\n  /** @type {AddLocaleData} */\n\n\n  const addLocaleData = (data, domain = 'default') => {\n    tannin.data[domain] = { ...tannin.data[domain],\n      ...data,\n      // Populate default domain configuration (supported locale date which omits\n      // a plural forms expression).\n      '': { ...DEFAULT_LOCALE_DATA[''],\n        ...tannin.data[domain]?.[''],\n        ...data?.['']\n      }\n    }; // Clean up cached plural forms functions cache as it might be updated.\n\n    delete tannin.pluralForms[domain];\n    notifyListeners();\n  };\n  /** @type {ResetLocaleData} */\n\n\n  const resetLocaleData = (data, domain) => {\n    // Reset all current Tannin locale data.\n    tannin.data = {}; // Reset cached plural forms functions cache.\n\n    tannin.pluralForms = {};\n    setLocaleData(data, domain);\n  };\n  /**\n   * Wrapper for Tannin's `dcnpgettext`. Populates default locale data if not\n   * otherwise previously assigned.\n   *\n   * @param {string|undefined} domain   Domain to retrieve the translated text.\n   * @param {string|undefined} context  Context information for the translators.\n   * @param {string}           single   Text to translate if non-plural. Used as\n   *                                    fallback return value on a caught error.\n   * @param {string}           [plural] The text to be used if the number is\n   *                                    plural.\n   * @param {number}           [number] The number to compare against to use\n   *                                    either the singular or plural form.\n   *\n   * @return {string} The translated string.\n   */\n\n\n  const dcnpgettext = (domain = 'default', context, single, plural, number) => {\n    if (!tannin.data[domain]) {\n      // Use `doSetLocaleData` to set silently, without notifying listeners.\n      doSetLocaleData(undefined, domain);\n    }\n\n    return tannin.dcnpgettext(domain, context, single, plural, number);\n  };\n  /** @type {GetFilterDomain} */\n\n\n  const getFilterDomain = (domain = 'default') => domain;\n  /** @type {__} */\n\n\n  const __ = (text, domain) => {\n    let translation = dcnpgettext(domain, undefined, text);\n\n    if (!hooks) {\n      return translation;\n    }\n    /**\n     * Filters text with its translation.\n     *\n     * @param {string} translation Translated text.\n     * @param {string} text        Text to translate.\n     * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n     */\n\n\n    translation =\n    /** @type {string} */\n\n    /** @type {*} */\n    hooks.applyFilters('i18n.gettext', translation, text, domain);\n    return (\n      /** @type {string} */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.gettext_' + getFilterDomain(domain), translation, text, domain)\n    );\n  };\n  /** @type {_x} */\n\n\n  const _x = (text, context, domain) => {\n    let translation = dcnpgettext(domain, context, text);\n\n    if (!hooks) {\n      return translation;\n    }\n    /**\n     * Filters text with its translation based on context information.\n     *\n     * @param {string} translation Translated text.\n     * @param {string} text        Text to translate.\n     * @param {string} context     Context information for the translators.\n     * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n     */\n\n\n    translation =\n    /** @type {string} */\n\n    /** @type {*} */\n    hooks.applyFilters('i18n.gettext_with_context', translation, text, context, domain);\n    return (\n      /** @type {string} */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.gettext_with_context_' + getFilterDomain(domain), translation, text, context, domain)\n    );\n  };\n  /** @type {_n} */\n\n\n  const _n = (single, plural, number, domain) => {\n    let translation = dcnpgettext(domain, undefined, single, plural, number);\n\n    if (!hooks) {\n      return translation;\n    }\n    /**\n     * Filters the singular or plural form of a string.\n     *\n     * @param {string} translation Translated text.\n     * @param {string} single      The text to be used if the number is singular.\n     * @param {string} plural      The text to be used if the number is plural.\n     * @param {string} number      The number to compare against to use either the singular or plural form.\n     * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n     */\n\n\n    translation =\n    /** @type {string} */\n\n    /** @type {*} */\n    hooks.applyFilters('i18n.ngettext', translation, single, plural, number, domain);\n    return (\n      /** @type {string} */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.ngettext_' + getFilterDomain(domain), translation, single, plural, number, domain)\n    );\n  };\n  /** @type {_nx} */\n\n\n  const _nx = (single, plural, number, context, domain) => {\n    let translation = dcnpgettext(domain, context, single, plural, number);\n\n    if (!hooks) {\n      return translation;\n    }\n    /**\n     * Filters the singular or plural form of a string with gettext context.\n     *\n     * @param {string} translation Translated text.\n     * @param {string} single      The text to be used if the number is singular.\n     * @param {string} plural      The text to be used if the number is plural.\n     * @param {string} number      The number to compare against to use either the singular or plural form.\n     * @param {string} context     Context information for the translators.\n     * @param {string} domain      Text domain. Unique identifier for retrieving translated strings.\n     */\n\n\n    translation =\n    /** @type {string} */\n\n    /** @type {*} */\n    hooks.applyFilters('i18n.ngettext_with_context', translation, single, plural, number, context, domain);\n    return (\n      /** @type {string} */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.ngettext_with_context_' + getFilterDomain(domain), translation, single, plural, number, context, domain)\n    );\n  };\n  /** @type {IsRtl} */\n\n\n  const isRTL = () => {\n    return 'rtl' === _x('ltr', 'text direction');\n  };\n  /** @type {HasTranslation} */\n\n\n  const hasTranslation = (single, context, domain) => {\n    const key = context ? context + '\\u0004' + single : single;\n    let result = !!tannin.data?.[domain !== null && domain !== void 0 ? domain : 'default']?.[key];\n\n    if (hooks) {\n      /**\n       * Filters the presence of a translation in the locale data.\n       *\n       * @param {boolean} hasTranslation Whether the translation is present or not..\n       * @param {string}  single         The singular form of the translated text (used as key in locale data)\n       * @param {string}  context        Context information for the translators.\n       * @param {string}  domain         Text domain. Unique identifier for retrieving translated strings.\n       */\n      result =\n      /** @type { boolean } */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.has_translation', result, single, context, domain);\n      result =\n      /** @type { boolean } */\n\n      /** @type {*} */\n      hooks.applyFilters('i18n.has_translation_' + getFilterDomain(domain), result, single, context, domain);\n    }\n\n    return result;\n  };\n\n  if (initialData) {\n    setLocaleData(initialData, initialDomain);\n  }\n\n  if (hooks) {\n    /**\n     * @param {string} hookName\n     */\n    const onHookAddedOrRemoved = hookName => {\n      if (I18N_HOOK_REGEXP.test(hookName)) {\n        notifyListeners();\n      }\n    };\n\n    hooks.addAction('hookAdded', 'core/i18n', onHookAddedOrRemoved);\n    hooks.addAction('hookRemoved', 'core/i18n', onHookAddedOrRemoved);\n  }\n\n  return {\n    getLocaleData,\n    setLocaleData,\n    addLocaleData,\n    resetLocaleData,\n    subscribe,\n    __,\n    _x,\n    _n,\n    _nx,\n    isRTL,\n    hasTranslation\n  };\n};\n//# sourceMappingURL=create-i18n.js.map","/**\n * Internal dependencies\n */\nimport { createI18n } from './create-i18n';\n/**\n * WordPress dependencies\n */\n\nimport { defaultHooks } from '@wordpress/hooks';\nconst i18n = createI18n(undefined, undefined, defaultHooks);\n/**\n * Default, singleton instance of `I18n`.\n */\n\nexport default i18n;\n/*\n * Comments in this file are duplicated from ./i18n due to\n * https://github.com/WordPress/gutenberg/pull/20318#issuecomment-590837722\n */\n\n/**\n * @typedef {import('./create-i18n').LocaleData} LocaleData\n * @typedef {import('./create-i18n').SubscribeCallback} SubscribeCallback\n * @typedef {import('./create-i18n').UnsubscribeCallback} UnsubscribeCallback\n */\n\n/**\n * Returns locale data by domain in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {string} [domain] Domain for which to get the data.\n * @return {LocaleData} Locale data.\n */\n\nexport const getLocaleData = i18n.getLocaleData.bind(i18n);\n/**\n * Merges locale data into the Tannin instance by domain. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {LocaleData} [data]   Locale data configuration.\n * @param {string}     [domain] Domain for which configuration applies.\n */\n\nexport const setLocaleData = i18n.setLocaleData.bind(i18n);\n/**\n * Resets all current Tannin instance locale data and sets the specified\n * locale data for the domain. Accepts data in a Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {LocaleData} [data]   Locale data configuration.\n * @param {string}     [domain] Domain for which configuration applies.\n */\n\nexport const resetLocaleData = i18n.resetLocaleData.bind(i18n);\n/**\n * Subscribes to changes of locale data\n *\n * @param {SubscribeCallback} callback Subscription callback\n * @return {UnsubscribeCallback} Unsubscribe callback\n */\n\nexport const subscribe = i18n.subscribe.bind(i18n);\n/**\n * Retrieve the translation of text.\n *\n * @see https://developer.wordpress.org/reference/functions/__/\n *\n * @param {string} text     Text to translate.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated text.\n */\n\nexport const __ = i18n.__.bind(i18n);\n/**\n * Retrieve translated string with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_x/\n *\n * @param {string} text     Text to translate.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated context string without pipe.\n */\n\nexport const _x = i18n._x.bind(i18n);\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number.\n *\n * @see https://developer.wordpress.org/reference/functions/_n/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\n\nexport const _n = i18n._n.bind(i18n);\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number, with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_nx/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\n\nexport const _nx = i18n._nx.bind(i18n);\n/**\n * Check if current locale is RTL.\n *\n * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n *\n * @return {boolean} Whether locale is RTL.\n */\n\nexport const isRTL = i18n.isRTL.bind(i18n);\n/**\n * Check if there is a translation for a given string (in singular form).\n *\n * @param {string} single    Singular form of the string to look up.\n * @param {string} [context] Context information for the translators.\n * @param {string} [domain]  Domain to retrieve the translated text.\n * @return {boolean} Whether the translation exists or not.\n */\n\nexport const hasTranslation = i18n.hasTranslation.bind(i18n);\n//# sourceMappingURL=default-i18n.js.map","/**\n * External dependencies\n */\nimport memoize from 'memize';\nimport sprintfjs from 'sprintf-js';\n/**\n * Log to console, once per message; or more precisely, per referentially equal\n * argument set. Because Jed throws errors, we log these to the console instead\n * to avoid crashing the application.\n *\n * @param {...*} args Arguments to pass to `console.error`\n */\n\nconst logErrorOnce = memoize(console.error); // eslint-disable-line no-console\n\n/**\n * Returns a formatted string. If an error occurs in applying the format, the\n * original format string is returned.\n *\n * @param {string} format The format of the string to generate.\n * @param {...*}   args   Arguments to apply to the format.\n *\n * @see https://www.npmjs.com/package/sprintf-js\n *\n * @return {string} The formatted string.\n */\n\nexport function sprintf(format, ...args) {\n  try {\n    return sprintfjs.sprintf(format, ...args);\n  } catch (error) {\n    if (error instanceof Error) {\n      logErrorOnce('sprintf error: \\n\\n' + error.toString());\n    }\n\n    return format;\n  }\n}\n//# sourceMappingURL=sprintf.js.map","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from './get-query-args';\nimport { buildQueryString } from './build-query-string';\n/**\n * Appends arguments as querystring to the provided URL. If the URL already\n * includes query arguments, the arguments are merged with (and take precedent\n * over) the existing set.\n *\n * @param {string} [url=''] URL to which arguments should be appended. If omitted,\n *                          only the resulting querystring is returned.\n * @param {Object} [args]   Query arguments to apply to URL.\n *\n * @example\n * ```js\n * const newURL = addQueryArgs( 'https://google.com', { q: 'test' } ); // https://google.com/?q=test\n * ```\n *\n * @return {string} URL with arguments applied.\n */\n\nexport function addQueryArgs(url = '', args) {\n  // If no arguments are to be appended, return original URL.\n  if (!args || !Object.keys(args).length) {\n    return url;\n  }\n\n  let baseUrl = url; // Determine whether URL already had query arguments.\n\n  const queryStringIndex = url.indexOf('?');\n\n  if (queryStringIndex !== -1) {\n    // Merge into existing query arguments.\n    args = Object.assign(getQueryArgs(url), args); // Change working base URL to omit previous query arguments.\n\n    baseUrl = baseUrl.substr(0, queryStringIndex);\n  }\n\n  return baseUrl + '?' + buildQueryString(args);\n}\n//# sourceMappingURL=add-query-args.js.map","/**\n * Generates URL-encoded query string using input query data.\n *\n * It is intended to behave equivalent as PHP's `http_build_query`, configured\n * with encoding type PHP_QUERY_RFC3986 (spaces as `%20`).\n *\n * @example\n * ```js\n * const queryString = buildQueryString( {\n *    simple: 'is ok',\n *    arrays: [ 'are', 'fine', 'too' ],\n *    objects: {\n *       evenNested: {\n *          ok: 'yes',\n *       },\n *    },\n * } );\n * // \"simple=is%20ok&arrays%5B0%5D=are&arrays%5B1%5D=fine&arrays%5B2%5D=too&objects%5BevenNested%5D%5Bok%5D=yes\"\n * ```\n *\n * @param {Record<string,*>} data Data to encode.\n *\n * @return {string} Query string.\n */\nexport function buildQueryString(data) {\n  let string = '';\n  const stack = Object.entries(data);\n  let pair;\n\n  while (pair = stack.shift()) {\n    let [key, value] = pair; // Support building deeply nested data, from array or object values.\n\n    const hasNestedData = Array.isArray(value) || value && value.constructor === Object;\n\n    if (hasNestedData) {\n      // Push array or object values onto the stack as composed of their\n      // original key and nested index or key, retaining order by a\n      // combination of Array#reverse and Array#unshift onto the stack.\n      const valuePairs = Object.entries(value).reverse();\n\n      for (const [member, memberValue] of valuePairs) {\n        stack.unshift([`${key}[${member}]`, memberValue]);\n      }\n    } else if (value !== undefined) {\n      // Null is treated as special case, equivalent to empty string.\n      if (value === null) {\n        value = '';\n      }\n\n      string += '&' + [key, value].map(encodeURIComponent).join('=');\n    }\n  } // Loop will concatenate with leading `&`, but it's only expected for all\n  // but the first query parameter. This strips the leading `&`, while still\n  // accounting for the case that the string may in-fact be empty.\n\n\n  return string.substr(1);\n}\n//# sourceMappingURL=build-query-string.js.map","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from './get-query-args';\n/**\n * @typedef {{[key: string]: QueryArgParsed}} QueryArgObject\n */\n\n/**\n * @typedef {string|string[]|QueryArgObject} QueryArgParsed\n */\n\n/**\n * Returns a single query argument of the url\n *\n * @param {string} url URL.\n * @param {string} arg Query arg name.\n *\n * @example\n * ```js\n * const foo = getQueryArg( 'https://wordpress.org?foo=bar&bar=baz', 'foo' ); // bar\n * ```\n *\n * @return {QueryArgParsed|void} Query arg value.\n */\n\nexport function getQueryArg(url, arg) {\n  return getQueryArgs(url)[arg];\n}\n//# sourceMappingURL=get-query-arg.js.map","/**\n * Internal dependencies\n */\nimport { safeDecodeURIComponent } from './safe-decode-uri-component';\nimport { getQueryString } from './get-query-string';\n/** @typedef {import('./get-query-arg').QueryArgParsed} QueryArgParsed */\n\n/**\n * @typedef {Record<string,QueryArgParsed>} QueryArgs\n */\n\n/**\n * Sets a value in object deeply by a given array of path segments. Mutates the\n * object reference.\n *\n * @param {Record<string,*>} object Object in which to assign.\n * @param {string[]}         path   Path segment at which to set value.\n * @param {*}                value  Value to set.\n */\n\nfunction setPath(object, path, value) {\n  const length = path.length;\n  const lastIndex = length - 1;\n\n  for (let i = 0; i < length; i++) {\n    let key = path[i];\n\n    if (!key && Array.isArray(object)) {\n      // If key is empty string and next value is array, derive key from\n      // the current length of the array.\n      key = object.length.toString();\n    }\n\n    key = ['__proto__', 'constructor', 'prototype'].includes(key) ? key.toUpperCase() : key; // If the next key in the path is numeric (or empty string), it will be\n    // created as an array. Otherwise, it will be created as an object.\n\n    const isNextKeyArrayIndex = !isNaN(Number(path[i + 1]));\n    object[key] = i === lastIndex ? // If at end of path, assign the intended value.\n    value : // Otherwise, advance to the next object in the path, creating\n    // it if it does not yet exist.\n    object[key] || (isNextKeyArrayIndex ? [] : {});\n\n    if (Array.isArray(object[key]) && !isNextKeyArrayIndex) {\n      // If we current key is non-numeric, but the next value is an\n      // array, coerce the value to an object.\n      object[key] = { ...object[key]\n      };\n    } // Update working reference object to the next in the path.\n\n\n    object = object[key];\n  }\n}\n/**\n * Returns an object of query arguments of the given URL. If the given URL is\n * invalid or has no querystring, an empty object is returned.\n *\n * @param {string} url URL.\n *\n * @example\n * ```js\n * const foo = getQueryArgs( 'https://wordpress.org?foo=bar&bar=baz' );\n * // { \"foo\": \"bar\", \"bar\": \"baz\" }\n * ```\n *\n * @return {QueryArgs} Query args object.\n */\n\n\nexport function getQueryArgs(url) {\n  return (getQueryString(url) || '' // Normalize space encoding, accounting for PHP URL encoding\n  // corresponding to `application/x-www-form-urlencoded`.\n  //\n  // See: https://tools.ietf.org/html/rfc1866#section-8.2.1\n  ).replace(/\\+/g, '%20').split('&').reduce((accumulator, keyValue) => {\n    const [key, value = ''] = keyValue.split('=') // Filtering avoids decoding as `undefined` for value, where\n    // default is restored in destructuring assignment.\n    .filter(Boolean).map(safeDecodeURIComponent);\n\n    if (key) {\n      const segments = key.replace(/\\]/g, '').split('[');\n      setPath(accumulator, segments, value);\n    }\n\n    return accumulator;\n  }, Object.create(null));\n}\n//# sourceMappingURL=get-query-args.js.map","/**\n * Returns the query string part of the URL.\n *\n * @param {string} url The full URL.\n *\n * @example\n * ```js\n * const queryString = getQueryString( 'http://localhost:8080/this/is/a/test?query=true#fragment' ); // 'query=true'\n * ```\n *\n * @return {string|void} The query string part of the URL.\n */\nexport function getQueryString(url) {\n  let query;\n\n  try {\n    query = new URL(url, 'http://example.com').search.substring(1);\n  } catch (error) {}\n\n  if (query) {\n    return query;\n  }\n}\n//# sourceMappingURL=get-query-string.js.map","/**\n * Internal dependencies\n */\nimport { getQueryArg } from './get-query-arg';\n/**\n * Determines whether the URL contains a given query arg.\n *\n * @param {string} url URL.\n * @param {string} arg Query arg name.\n *\n * @example\n * ```js\n * const hasBar = hasQueryArg( 'https://wordpress.org?foo=bar&bar=baz', 'bar' ); // true\n * ```\n *\n * @return {boolean} Whether or not the URL contains the query arg.\n */\n\nexport function hasQueryArg(url, arg) {\n  return getQueryArg(url, arg) !== undefined;\n}\n//# sourceMappingURL=has-query-arg.js.map","/**\n * Given a path, returns a normalized path where equal query parameter values\n * will be treated as identical, regardless of order they appear in the original\n * text.\n *\n * @param {string} path Original path.\n *\n * @return {string} Normalized path.\n */\nexport function normalizePath(path) {\n  const splitted = path.split('?');\n  const query = splitted[1];\n  const base = splitted[0];\n\n  if (!query) {\n    return base;\n  } // 'b=1%2C2&c=2&a=5'\n\n\n  return base + '?' + query // [ 'b=1%2C2', 'c=2', 'a=5' ]\n  .split('&') // [ [ 'b, '1%2C2' ], [ 'c', '2' ], [ 'a', '5' ] ]\n  .map(entry => entry.split('=')) // [ [ 'b', '1,2' ], [ 'c', '2' ], [ 'a', '5' ] ]\n  .map(pair => pair.map(decodeURIComponent)) // [ [ 'a', '5' ], [ 'b, '1,2' ], [ 'c', '2' ] ]\n  .sort((a, b) => a[0].localeCompare(b[0])) // [ [ 'a', '5' ], [ 'b, '1%2C2' ], [ 'c', '2' ] ]\n  .map(pair => pair.map(encodeURIComponent)) // [ 'a=5', 'b=1%2C2', 'c=2' ]\n  .map(pair => pair.join('=')) // 'a=5&b=1%2C2&c=2'\n  .join('&');\n}\n//# sourceMappingURL=normalize-path.js.map","/**\n * Safely decodes a URI component with `decodeURIComponent`. Returns the URI component unmodified if\n * `decodeURIComponent` throws an error.\n *\n * @param {string} uriComponent URI component to decode.\n *\n * @return {string} Decoded URI component if possible.\n */\nexport function safeDecodeURIComponent(uriComponent) {\n  try {\n    return decodeURIComponent(uriComponent);\n  } catch (uriComponentError) {\n    return uriComponent;\n  }\n}\n//# sourceMappingURL=safe-decode-uri-component.js.map","import {loadStripe} from '@stripe/stripe-js';\n//import {getSetting} from '@woocommerce/settings'\nimport apiFetch from \"@wordpress/api-fetch\";\n//import {getCurrency, formatPrice as wcFormatPrice} from '@woocommerce/price-format';\n\nconst {publishableKey, stripeParams} = wc.getSetting('stripeGeneralData');\nconst messages = wc.getSetting('stripeErrorMessages');\nconst countryLocale = wc.getSetting('countryLocale', {});\n\nconst SHIPPING_OPTION_REGEX = /^([\\w]+)\\:(.+)$/;\n\nconst routes = wc.getSetting('stripeGeneralData').routes;\n\nconst creditCardForms = {};\n\nconst localPaymentMethods = [];\n\nconst CACHE_PREFIX = 'stripe:';\n\nconst PAYMENT_REQUEST_ADDRESS_MAPPINGS = {\n    recipient: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    payerName: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    country: 'country',\n    addressLine: (address, value) => {\n        if (value[0]) {\n            address.address_1 = value[0];\n        }\n        if (value[1]) {\n            address.address_2 = value[1];\n        }\n        return address;\n    },\n    line1: 'address_1',\n    line2: 'address_2',\n    city: 'city',\n    region: 'state',\n    state: 'state',\n    postalCode: 'postcode',\n    postal_code: 'postcode',\n    payerEmail: 'email',\n    payerPhone: 'phone'\n}\n\nexport const initStripe = new Promise((resolve, reject) => {\n    loadStripe(publishableKey, stripeParams).then(stripe => {\n        resolve(stripe);\n    }).catch(err => {\n        resolve({error: err});\n    });\n});\n\nexport const registerCreditCardForm = ({id, ...props}) => {\n    creditCardForms[id] = props;\n}\n\nexport const getCreditCardForm = (id) => {\n    return creditCardForms.hasOwnProperty(id) ? creditCardForms[id] : {};\n}\n\nexport const getRoute = (route) => {\n    return routes?.[route] ? routes[route] : console.log(`${route} is not a valid route`);\n}\n\nexport const ensureSuccessResponse = (responseTypes, data = {}) => {\n    return {type: responseTypes.SUCCESS, ...data};\n}\n\n/**\n * Returns a formatted error object used by observers\n * @param responseTypes\n * @param error\n * @returns {{type: *, message: *}}\n */\nexport const ensureErrorResponse = (responseTypes, error, options = {}) => {\n    return {type: responseTypes.ERROR, message: getErrorMessage(error), ...options}\n};\n\n/**\n * Return a customized error message.\n * @param error\n */\nexport const getErrorMessage = (error) => {\n    if (typeof error == 'string') {\n        return error;\n    }\n    if (error?.code && messages?.[error.code]) {\n        return messages[error.code];\n    }\n    if (error?.statusCode) {\n        return messages?.[error.statusCode] ? messages[error.statusCode] : error.statusMessage;\n    }\n    return error.message;\n}\n\n/**\n * Return a Stripe formatted billing_details object from a WC address\n * @param billingAddress\n */\nexport const getBillingDetailsFromAddress = (billingAddress) => {\n    let billing_details = {\n        name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n        address: {\n            city: billingAddress.city || null,\n            country: billingAddress.country || null,\n            line1: billingAddress.address_1 || null,\n            line2: billingAddress.address_2 || null,\n            postal_code: billingAddress.postcode || null,\n            state: billingAddress.state || null\n        }\n    }\n    if (billingAddress?.phone) {\n        billing_details.phone = billingAddress.phone;\n    }\n    if (billingAddress?.email) {\n        billing_details.email = billingAddress.email;\n    }\n    return billing_details;\n}\n\nexport const getSettings = (name) => (key) => {\n    if (key) {\n        return wc.getSetting(name)[key];\n    }\n    return wc.getSetting(name);\n}\n\nexport class StripeError extends Error {\n    constructor(error) {\n        super(error.message);\n        this.error = error;\n    }\n}\n\n/**\n * Returns true if the provided value is empty.\n * @param value\n * @returns {boolean}\n */\nexport const isEmpty = (value) => {\n    if (typeof value === 'string') {\n        return value.length == 0 || value == '';\n    }\n    if (Array.isArray(value)) {\n        return array.length == 0;\n    }\n    if (typeof value === 'object') {\n        return Object.keys(value).length == 0;\n    }\n    if (typeof value === 'undefined') {\n        return true;\n    }\n    return true;\n}\n\nexport const removeNumberPrecision = (value, unit) => {\n    return value / 10 ** unit;\n}\n\n/**\n *\n * @param address\n * @param country\n */\nexport const isAddressValid = (address, exclude = []) => {\n    const fields = getLocaleFields(address.country);\n    for (const [key, value] of Object.entries(address)) {\n        if (!exclude.includes(key) && fields?.[key] && fields[key].required) {\n            if (isEmpty(value)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport const getLocaleFields = (country) => {\n    let localeFields = {...countryLocale.default};\n    if (country && countryLocale?.[country]) {\n        localeFields = Object.entries(countryLocale[country]).reduce((locale, [key, value]) => {\n            locale[key] = {...locale[key], ...value}\n            return locale;\n        }, localeFields);\n        ['phone', 'shipping-phone', 'email'].forEach(key => {\n            let node = document.getElementById(key);\n            if (node) {\n                localeFields[key] = {required: node.required};\n            }\n        });\n    }\n    return localeFields;\n}\n\n/**\n * Return true if the field is required by the cart\n * @param field\n * @param country\n * @returns {boolean|*}\n */\nexport const isFieldRequired = (field, country = false) => {\n    const fields = getLocaleFields(country);\n    return [field] in fields && fields[field].required;\n}\n\nexport const getSelectedShippingOption = (id) => {\n    const result = id.match(SHIPPING_OPTION_REGEX);\n    if (result) {\n        const {1: packageIdx, 2: rate} = result;\n        return [rate, packageIdx];\n    }\n    return [];\n}\n\nexport const hasShippingRates = (shippingRates) => {\n    return shippingRates.map(rate => {\n        return rate.shipping_rates.length > 0;\n    }).filter(Boolean).length > 0;\n}\n\n/**\n * Return true if the customer is logged in.\n * @param customerId\n * @returns {boolean}\n */\nexport const isUserLoggedIn = (customerId) => {\n    return customerId > 0;\n}\n\nconst syncPaymentIntentWithOrder = async (order_id, client_secret) => {\n    try {\n        await apiFetch({\n            url: routes['sync/intent'],\n            method: 'POST',\n            data: {order_id, client_secret}\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const handleCardAction = async (\n    {\n        redirectUrl,\n        responseTypes,\n        name,\n        method = 'handleCardAction',\n        savePaymentMethod = false,\n        data = {}\n    }) => {\n    try {\n        let match = redirectUrl.match(/#response=(.+)/)\n        if (match) {\n            let {type, client_secret, order_id, order_key} = JSON.parse(window.atob(decodeURIComponent(match[1])));\n            const stripe = await initStripe;\n            let result;\n            if (type === 'intent') {\n                result = await stripe[method](client_secret);\n            } else {\n                result = await stripe.confirmCardSetup(client_secret);\n            }\n            if (result.error) {\n                return ensureErrorResponse(responseTypes, result.error);\n            }\n            // success so finish processing order then redirect to thank you page\n            data = {...data, order_id, order_key, [`${name}_save_source_key`]: savePaymentMethod};\n            let response = await apiFetch({\n                url: getRoute('process/payment'),\n                method: 'POST',\n                data\n            })\n            if (response.messages) {\n                return ensureErrorResponse(responseTypes, response.messages);\n            }\n            return ensureSuccessResponse(responseTypes, {\n                redirectUrl: response.redirect\n            });\n        } else {\n            return ensureSuccessResponse(responseTypes);\n        }\n    } catch (err) {\n        console.log(err);\n        return ensureErrorResponse(responseTypes, err);\n    }\n}\n\n/**\n * Convert a payment wallet address to a WC cart address.\n * @param address_mappings\n * @returns {function(*, *=): {}}\n */\nexport const toCartAddress = (address_mappings = PAYMENT_REQUEST_ADDRESS_MAPPINGS) => (address, args = {}) => {\n    const cartAddress = {};\n    address = {...address, ...filterEmptyValues(args)};\n    for (let [key, cartKey] of Object.entries(address_mappings)) {\n        if (address?.[key]) {\n            if (typeof cartKey === 'function') {\n                cartKey(cartAddress, address[key]);\n            } else {\n                cartAddress[cartKey] = address[key];\n            }\n        }\n    }\n    return cartAddress;\n}\n\n/**\n * Given a WC formatted address, return only the intermediate address values\n * @param address\n * @param fields\n */\nexport const getIntermediateAddress = (address, fields = ['city', 'postcode', 'state', 'country']) => {\n    const intermediateAddress = {};\n    for (let key of fields) {\n        intermediateAddress[key] = address[key];\n    }\n    return intermediateAddress;\n}\n\n/**\n *\n * @param values\n * @returns {{}|{[p: string]: *}}\n */\nexport const filterEmptyValues = (values) => {\n    return Object.keys(values).filter(key => Boolean(values[key])).reduce((obj, key) => ({\n        ...obj,\n        [key]: values[key]\n    }), {});\n}\n\nexport const formatPrice = (price, currencyCode) => {\n    const {prefix, suffix, decimalSeparator, minorUnit, thousandSeparator} = wc.getCurrency(currencyCode);\n    if (price == '' || price === undefined) {\n        return price;\n    }\n\n    price = typeof price === 'string' ? parseInt(price, 10) : price;\n    price = price / 10 ** minorUnit;\n    price = price.toString().replace('.', decimalSeparator);\n    let fractional = '';\n    const index = price.indexOf(decimalSeparator);\n    if (index < 0) {\n        if (minorUnit > 0) {\n            price += `${decimalSeparator}${new Array(minorUnit + 1).join('0')}`;\n        }\n    } else {\n        fractional = price.substr(index + 1);\n        if (fractional.length < minorUnit) {\n            price += new Array(minorUnit - fractional.length + 1).join('0');\n        }\n    }\n\n    // separate out price and decimals so thousands separator can be added.\n    const match = price.match(new RegExp(`(\\\\d+)\\\\${decimalSeparator}(\\\\d+)`));\n    if (match) {\n        ({1: price, 2: fractional} = match);\n    }\n    price = price.replace(new RegExp(`\\\\B(?=(\\\\d{3})+(?!\\\\d))`, 'g'), `${thousandSeparator}`);\n    price = fractional?.length > 0 ? price + decimalSeparator + fractional : price;\n    price = prefix + price + suffix;\n    return price;\n}\n\nexport const getShippingOptions = (shippingRates) => {\n    let options = [];\n    shippingRates.forEach((shippingPackage, idx) => {\n        // sort by selected rate\n        shippingPackage.shipping_rates.sort((rate) => {\n            return rate.selected ? -1 : 1;\n        });\n        let rates = shippingPackage.shipping_rates.map(rate => {\n            let txt = document.createElement('textarea');\n            txt.innerHTML = rate.name;\n            let price = formatPrice(rate.price, rate.currency_code);\n            return {\n                id: getShippingOptionId(idx, rate.rate_id),\n                label: txt.value,\n                //detail: `${price}`,\n                amount: parseInt(rate.price, 10)\n            }\n        });\n        options = [...options, ...rates];\n    });\n    return options;\n}\n\nexport const getShippingOptionId = (packageId, rateId) => `${packageId}:${rateId}`\n\nexport const getDisplayItems = (cartItems, {minorUnit}) => {\n    let items = [];\n    const keys = ['total_tax', 'total_shipping'];\n    cartItems.forEach(item => {\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\n            items.push({\n                label: item.label,\n                pending: false,\n                amount: item.value\n            });\n        }\n    })\n    return items;\n}\n\nconst canPay = {};\n\nexport const canMakePayment = ({country, currency, total}, callback) => {\n    return new Promise((resolve, reject) => {\n        const key = [country, currency, total.amount].reduce((key, value) => `${key}-${value}`);\n        if (!currency) {\n            return resolve(false);\n        }\n        if (key in canPay) {\n            return resolve(canPay[key]);\n        }\n        return initStripe.then(stripe => {\n            if (stripe.error) {\n                return reject(stripe.error);\n            }\n            const request = stripe.paymentRequest({\n                country,\n                currency,\n                total\n            });\n            request.canMakePayment().then(result => {\n                canPay[key] = callback(result);\n                return resolve(canPay[key]);\n            });\n        }).catch(reject);\n    });\n};\n\nexport const registerLocalPaymentMethod = (paymentMethod) => {\n    localPaymentMethods.push(paymentMethod);\n}\n\nexport const getLocalPaymentMethods = () => localPaymentMethods;\n\nexport const cartContainsPreOrder = () => {\n    const data = wc.getSetting('stripePaymentData');\n    return data && data.pre_order;\n}\n\nexport const cartContainsSubscription = () => {\n    const data = wc.getSetting('stripePaymentData');\n    return data && data.subscription;\n}\n\nexport const getDefaultSourceArgs = ({type, amount, billingData, currency, returnUrl}) => {\n    return {\n        type,\n        amount,\n        currency,\n        owner: getBillingDetailsFromAddress(billingData),\n        redirect: {\n            return_url: returnUrl\n        }\n    }\n}\n\nexport const isTestMode = () => {\n    return wc.getSetting('stripeGeneralData').mode === 'test';\n}\n\nconst getCacheKey = (key) => `${CACHE_PREFIX}${key}`;\n\nexport const storeInCache = (key, value) => {\n    const exp = Math.floor(new Date().getTime() / 1000) + (60 * 15);\n    if ('sessionStorage' in window) {\n        sessionStorage.setItem(getCacheKey(key), JSON.stringify({value, exp}));\n    }\n}\n\nexport const getFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        try {\n            const item = JSON.parse(sessionStorage.getItem(getCacheKey(key)));\n            if (item) {\n                const {value, exp} = item;\n                if (Math.floor(new Date().getTime() / 1000) > exp) {\n                    deleteFromCache(getCacheKey(key));\n                } else {\n                    return value;\n                }\n            }\n        } catch (err) {\n        }\n    }\n    return null;\n}\n\nexport const deleteFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        sessionStorage.removeItem(getCacheKey(key));\n    }\n}\n\nexport const versionCompare = (ver1, ver2, compare) => {\n    switch (compare) {\n        case '<':\n            return ver1 < ver2;\n        case '>':\n            return ver1 > ver2;\n        case '<=':\n            return ver1 <= ver2;\n        case '>=':\n            return ver1 >= ver2;\n        case '=':\n            return ver1 == ver2;\n    }\n    return false;\n}\n\nexport const isCartPage = () => wc.getSetting('stripeGeneralData').page === 'cart';\n\nexport const isCheckoutPage = () => wc.getSetting('stripeGeneralData').page === 'checkout';\n\nexport const isNextActionRequired = (url) => {\n    let match = url.match(/#response=(.+)/);\n    let args = null;\n    if (match) {\n        args = JSON.parse(window.atob(decodeURIComponent(match[1])));\n    }\n    return args;\n}\n\nexport const DEFAULT_SHIPPING_ADDRESS = {\n\t'first_name': '',\n\t'last_name': '',\n\t'company': '',\n\t'address_1': '',\n\t'address_2': '',\n\t'city': '',\n\t'state': '',\n\t'postcode': '',\n\t'country': '',\n\t'phone': '',\n}\n\nexport const DEFAULT_BILLING_ADDRESS = {\n\t...DEFAULT_SHIPPING_ADDRESS,\n\t'email': ''\n}","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/* global window, exports, define */\n\n!function() {\n    'use strict'\n\n    var re = {\n        not_string: /[^s]/,\n        not_bool: /[^t]/,\n        not_type: /[^T]/,\n        not_primitive: /[^v]/,\n        number: /[diefg]/,\n        numeric_arg: /[bcdiefguxX]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[+-]/\n    }\n\n    function sprintf(key) {\n        // `arguments` is not an array, but should be fine for this call\n        return sprintf_format(sprintf_parse(key), arguments)\n    }\n\n    function vsprintf(fmt, argv) {\n        return sprintf.apply(null, [fmt].concat(argv || []))\n    }\n\n    function sprintf_format(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, arg, output = '', i, k, ph, pad, pad_character, pad_length, is_positive, sign\n        for (i = 0; i < tree_length; i++) {\n            if (typeof parse_tree[i] === 'string') {\n                output += parse_tree[i]\n            }\n            else if (typeof parse_tree[i] === 'object') {\n                ph = parse_tree[i] // convenience purposes only\n                if (ph.keys) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < ph.keys.length; k++) {\n                        if (arg == undefined) {\n                            throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k-1]))\n                        }\n                        arg = arg[ph.keys[k]]\n                    }\n                }\n                else if (ph.param_no) { // positional argument (explicit)\n                    arg = argv[ph.param_no]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (re.not_type.test(ph.type) && re.not_primitive.test(ph.type) && arg instanceof Function) {\n                    arg = arg()\n                }\n\n                if (re.numeric_arg.test(ph.type) && (typeof arg !== 'number' && isNaN(arg))) {\n                    throw new TypeError(sprintf('[sprintf] expecting number but found %T', arg))\n                }\n\n                if (re.number.test(ph.type)) {\n                    is_positive = arg >= 0\n                }\n\n                switch (ph.type) {\n                    case 'b':\n                        arg = parseInt(arg, 10).toString(2)\n                        break\n                    case 'c':\n                        arg = String.fromCharCode(parseInt(arg, 10))\n                        break\n                    case 'd':\n                    case 'i':\n                        arg = parseInt(arg, 10)\n                        break\n                    case 'j':\n                        arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0)\n                        break\n                    case 'e':\n                        arg = ph.precision ? parseFloat(arg).toExponential(ph.precision) : parseFloat(arg).toExponential()\n                        break\n                    case 'f':\n                        arg = ph.precision ? parseFloat(arg).toFixed(ph.precision) : parseFloat(arg)\n                        break\n                    case 'g':\n                        arg = ph.precision ? String(Number(arg.toPrecision(ph.precision))) : parseFloat(arg)\n                        break\n                    case 'o':\n                        arg = (parseInt(arg, 10) >>> 0).toString(8)\n                        break\n                    case 's':\n                        arg = String(arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 't':\n                        arg = String(!!arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'T':\n                        arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'u':\n                        arg = parseInt(arg, 10) >>> 0\n                        break\n                    case 'v':\n                        arg = arg.valueOf()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'x':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16)\n                        break\n                    case 'X':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase()\n                        break\n                }\n                if (re.json.test(ph.type)) {\n                    output += arg\n                }\n                else {\n                    if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\n                        sign = is_positive ? '+' : '-'\n                        arg = arg.toString().replace(re.sign, '')\n                    }\n                    else {\n                        sign = ''\n                    }\n                    pad_character = ph.pad_char ? ph.pad_char === '0' ? '0' : ph.pad_char.charAt(1) : ' '\n                    pad_length = ph.width - (sign + arg).length\n                    pad = ph.width ? (pad_length > 0 ? pad_character.repeat(pad_length) : '') : ''\n                    output += ph.align ? sign + arg + pad : (pad_character === '0' ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output\n    }\n\n    var sprintf_cache = Object.create(null)\n\n    function sprintf_parse(fmt) {\n        if (sprintf_cache[fmt]) {\n            return sprintf_cache[fmt]\n        }\n\n        var _fmt = fmt, match, parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree.push(match[0])\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree.push('%')\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1])\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else {\n                                throw new SyntaxError('[sprintf] failed to parse named argument key')\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError('[sprintf] failed to parse named argument key')\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported')\n                }\n\n                parse_tree.push(\n                    {\n                        placeholder: match[0],\n                        param_no:    match[1],\n                        keys:        match[2],\n                        sign:        match[3],\n                        pad_char:    match[4],\n                        align:       match[5],\n                        width:       match[6],\n                        precision:   match[7],\n                        type:        match[8]\n                    }\n                )\n            }\n            else {\n                throw new SyntaxError('[sprintf] unexpected placeholder')\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return sprintf_cache[fmt] = parse_tree\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    /* eslint-disable quote-props */\n    if (typeof exports !== 'undefined') {\n        exports['sprintf'] = sprintf\n        exports['vsprintf'] = vsprintf\n    }\n    if (typeof window !== 'undefined') {\n        window['sprintf'] = sprintf\n        window['vsprintf'] = vsprintf\n\n        if (typeof define === 'function' && define['amd']) {\n            define(function() {\n                return {\n                    'sprintf': sprintf,\n                    'vsprintf': vsprintf\n                }\n            })\n        }\n    }\n    /* eslint-enable quote-props */\n}(); // eslint-disable-line\n","import pluralForms from '@tannin/plural-forms';\n\n/**\n * Tannin constructor options.\n *\n * @typedef {Object} TanninOptions\n *\n * @property {string}   [contextDelimiter] Joiner in string lookup with context.\n * @property {Function} [onMissingKey]     Callback to invoke when key missing.\n */\n\n/**\n * Domain metadata.\n *\n * @typedef {Object} TanninDomainMetadata\n *\n * @property {string}            [domain]       Domain name.\n * @property {string}            [lang]         Language code.\n * @property {(string|Function)} [plural_forms] Plural forms expression or\n *                                              function evaluator.\n */\n\n/**\n * Domain translation pair respectively representing the singular and plural\n * translation.\n *\n * @typedef {[string,string]} TanninTranslation\n */\n\n/**\n * Locale data domain. The key is used as reference for lookup, the value an\n * array of two string entries respectively representing the singular and plural\n * translation.\n *\n * @typedef {{[key:string]:TanninDomainMetadata|TanninTranslation,'':TanninDomainMetadata|TanninTranslation}} TanninLocaleDomain\n */\n\n/**\n * Jed-formatted locale data.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @typedef {{[domain:string]:TanninLocaleDomain}} TanninLocaleData\n */\n\n/**\n * Default Tannin constructor options.\n *\n * @type {TanninOptions}\n */\nvar DEFAULT_OPTIONS = {\n\tcontextDelimiter: '\\u0004',\n\tonMissingKey: null,\n};\n\n/**\n * Given a specific locale data's config `plural_forms` value, returns the\n * expression.\n *\n * @example\n *\n * ```\n * getPluralExpression( 'nplurals=2; plural=(n != 1);' ) === '(n != 1)'\n * ```\n *\n * @param {string} pf Locale data plural forms.\n *\n * @return {string} Plural forms expression.\n */\nfunction getPluralExpression( pf ) {\n\tvar parts, i, part;\n\n\tparts = pf.split( ';' );\n\n\tfor ( i = 0; i < parts.length; i++ ) {\n\t\tpart = parts[ i ].trim();\n\t\tif ( part.indexOf( 'plural=' ) === 0 ) {\n\t\t\treturn part.substr( 7 );\n\t\t}\n\t}\n}\n\n/**\n * Tannin constructor.\n *\n * @class\n *\n * @param {TanninLocaleData} data      Jed-formatted locale data.\n * @param {TanninOptions}    [options] Tannin options.\n */\nexport default function Tannin( data, options ) {\n\tvar key;\n\n\t/**\n\t * Jed-formatted locale data.\n\t *\n\t * @name Tannin#data\n\t * @type {TanninLocaleData}\n\t */\n\tthis.data = data;\n\n\t/**\n\t * Plural forms function cache, keyed by plural forms string.\n\t *\n\t * @name Tannin#pluralForms\n\t * @type {Object<string,Function>}\n\t */\n\tthis.pluralForms = {};\n\n\t/**\n\t * Effective options for instance, including defaults.\n\t *\n\t * @name Tannin#options\n\t * @type {TanninOptions}\n\t */\n\tthis.options = {};\n\n\tfor ( key in DEFAULT_OPTIONS ) {\n\t\tthis.options[ key ] = options !== undefined && key in options\n\t\t\t? options[ key ]\n\t\t\t: DEFAULT_OPTIONS[ key ];\n\t}\n}\n\n/**\n * Returns the plural form index for the given domain and value.\n *\n * @param {string} domain Domain on which to calculate plural form.\n * @param {number} n      Value for which plural form is to be calculated.\n *\n * @return {number} Plural form index.\n */\nTannin.prototype.getPluralForm = function( domain, n ) {\n\tvar getPluralForm = this.pluralForms[ domain ],\n\t\tconfig, plural, pf;\n\n\tif ( ! getPluralForm ) {\n\t\tconfig = this.data[ domain ][ '' ];\n\n\t\tpf = (\n\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t// @ts-ignore\n\t\t\tconfig.plural_forms\n\t\t);\n\n\t\tif ( typeof pf !== 'function' ) {\n\t\t\tplural = getPluralExpression(\n\t\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t\t// @ts-ignore\n\t\t\t\tconfig.plural_forms\n\t\t\t);\n\n\t\t\tpf = pluralForms( plural );\n\t\t}\n\n\t\tgetPluralForm = this.pluralForms[ domain ] = pf;\n\t}\n\n\treturn getPluralForm( n );\n};\n\n/**\n * Translate a string.\n *\n * @param {string}      domain   Translation domain.\n * @param {string|void} context  Context distinguishing terms of the same name.\n * @param {string}      singular Primary key for translation lookup.\n * @param {string=}     plural   Fallback value used for non-zero plural\n *                               form index.\n * @param {number=}     n        Value to use in calculating plural form.\n *\n * @return {string} Translated string.\n */\nTannin.prototype.dcnpgettext = function( domain, context, singular, plural, n ) {\n\tvar index, key, entry;\n\n\tif ( n === undefined ) {\n\t\t// Default to singular.\n\t\tindex = 0;\n\t} else {\n\t\t// Find index by evaluating plural form for value.\n\t\tindex = this.getPluralForm( domain, n );\n\t}\n\n\tkey = singular;\n\n\t// If provided, context is prepended to key with delimiter.\n\tif ( context ) {\n\t\tkey = context + this.options.contextDelimiter + singular;\n\t}\n\n\tentry = this.data[ domain ][ key ];\n\n\t// Verify not only that entry exists, but that the intended index is within\n\t// range and non-empty.\n\tif ( entry && entry[ index ] ) {\n\t\treturn entry[ index ];\n\t}\n\n\tif ( this.options.onMissingKey ) {\n\t\tthis.options.onMissingKey( singular, domain );\n\t}\n\n\t// If entry not found, fall back to singular vs. plural with zero index\n\t// representing the singular value.\n\treturn index === 0 ? singular : plural;\n};\n","/**\n * Memize options object.\n *\n * @typedef MemizeOptions\n *\n * @property {number} [maxSize] Maximum size of the cache.\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef MemizeCacheNode\n *\n * @property {?MemizeCacheNode|undefined} [prev] Previous node.\n * @property {?MemizeCacheNode|undefined} [next] Next node.\n * @property {Array<*>}                   args   Function arguments for cache\n *                                               entry.\n * @property {*}                          val    Function result.\n */\n\n/**\n * Properties of the enhanced function for controlling cache.\n *\n * @typedef MemizeMemoizedFunction\n *\n * @property {()=>void} clear Clear the cache.\n */\n\n/**\n * Accepts a function to be memoized, and returns a new memoized function, with\n * optional options.\n *\n * @template {(...args: any[]) => any} F\n *\n * @param {F}             fn        Function to memoize.\n * @param {MemizeOptions} [options] Options object.\n *\n * @return {((...args: Parameters<F>) => ReturnType<F>) & MemizeMemoizedFunction} Memoized function.\n */\nfunction memize(fn, options) {\n\tvar size = 0;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar head;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar tail;\n\n\toptions = options || {};\n\n\tfunction memoized(/* ...args */) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs,\n\t\t\ti;\n\n\t\tsearchCache: while (node) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif (node.args.length !== arguments.length) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (node.args[i] !== arguments[i]) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== head) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif (node === tail) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\t/** @type {MemizeCacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {MemizeCacheNode} */ (head).prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply(null, args),\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (head) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif (size === /** @type {MemizeOptions} */ (options).maxSize) {\n\t\t\ttail = /** @type {MemizeCacheNode} */ (tail).prev;\n\t\t\t/** @type {MemizeCacheNode} */ (tail).next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function () {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\t// Ignore reason: There's not a clear solution to create an intersection of\n\t// the function with additional properties, where the goal is to retain the\n\t// function signature of the incoming argument and add control properties\n\t// on the return value.\n\n\t// @ts-ignore\n\treturn memoized;\n}\n\nexport { memize as default };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {useEffect, useState, useCallback, useRef} from '@wordpress/element';\nimport {useStripe} from '@stripe/react-stripe-js';\nimport {\n\tgetSettings,\n\tensureSuccessResponse,\n\tensureErrorResponse,\n\tgetBillingDetailsFromAddress,\n\tStripeError,\n\tDEFAULT_BILLING_ADDRESS,\n\tDEFAULT_SHIPPING_ADDRESS\n} from '../util';\n\nconst generalData = getSettings('stripeGeneralData');\n\nexport const useProcessPaymentIntent = (\n\t{\n\t\tgetData,\n\t\tbilling,\n\t\tshippingData,\n\t\tonPaymentProcessing,\n\t\temitResponse,\n\t\terror,\n\t\tonSubmit,\n\t\tactivePaymentMethod,\n\t\tpaymentType = 'card',\n\t\tsetupIntent = null,\n\t\tremoveSetupIntent = null,\n\t\tshouldSavePayment = false,\n\t\texportedValues = {},\n\t\tgetPaymentMethodArgs = () => ({})\n\t}) => {\n\tconst {billingData} = billing;\n\tconst {shippingAddress} = shippingData;\n\tconst {responseTypes} = emitResponse;\n\tconst [paymentMethod, setPaymentMethod] = useState(null);\n\tconst stripe = useStripe();\n\tconst currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\n\tconst paymentMethodData = useRef({});\n\tuseEffect(() => {\n\t\tcurrentPaymentMethodArgs.current = getPaymentMethodArgs;\n\t}, [getPaymentMethodArgs]);\n\n\tconst addPaymentMethodData = useCallback((data) => {\n\t\tpaymentMethodData.current = {...paymentMethodData.current, ...data};\n\t}, []);\n\n\tconst getCreatePaymentMethodArgs = useCallback(() => {\n\t\tconst args = {\n\t\t\ttype: paymentType,\n\t\t\tbilling_details: getBillingDetailsFromAddress(exportedValues?.billingData ? exportedValues.billingData : billingData)\n\t\t}\n\t\treturn {...args, ...currentPaymentMethodArgs.current()};\n\t}, [billingData, paymentType, getPaymentMethodArgs]);\n\n\tconst getSuccessResponse = useCallback((paymentMethodId, shouldSavePayment) => {\n\t\tconst response = {\n\t\t\tmeta: {\n\t\t\t\tpaymentMethodData: {\n\t\t\t\t\t[`${getData('name')}_token_key`]: paymentMethodId,\n\t\t\t\t\t[`${getData('name')}_save_source_key`]: shouldSavePayment,\n\t\t\t\t\t...paymentMethodData.current\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst isOlderVersion = generalData('isOlderVersion');\n\t\tif (exportedValues?.billingData) {\n\t\t\tif (isOlderVersion) {\n\t\t\t\tresponse.meta.billingData = {\n\t\t\t\t\t...DEFAULT_BILLING_ADDRESS,\n\t\t\t\t\t...exportedValues.billingData\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tresponse.meta.billingAddress = {\n\t\t\t\t\t...DEFAULT_BILLING_ADDRESS,\n\t\t\t\t\t...exportedValues.billingData\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tif (exportedValues?.shippingAddress) {\n\t\t\tif (isOlderVersion) {\n\t\t\t\tresponse.meta.shippingData = {address: exportedValues.shippingAddress};\n\t\t\t} else {\n\t\t\t\tresponse.meta.shippingAddress = {\n\t\t\t\t\t...DEFAULT_SHIPPING_ADDRESS, ...exportedValues.shippingAddress\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn response;\n\t}, [billingData, shippingAddress]);\n\n\tuseEffect(() => {\n\t\tif (paymentMethod && typeof paymentMethod === 'string') {\n\t\t\tonSubmit();\n\t\t}\n\t}, [paymentMethod, onSubmit]);\n\n\tuseEffect(() => {\n\t\tconst unsubscribeProcessingPayment = onPaymentProcessing(async () => {\n\t\t\tif (activePaymentMethod !== getData('name')) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet [result, paymentMethodId] = [null, null];\n\t\t\ttry {\n\t\t\t\tif (error) {\n\t\t\t\t\tthrow new StripeError(error);\n\t\t\t\t}\n\t\t\t\tif (setupIntent) {\n\t\t\t\t\tresult = await stripe.confirmCardSetup(setupIntent.client_secret, {\n\t\t\t\t\t\tpayment_method: getCreatePaymentMethodArgs()\n\t\t\t\t\t});\n\t\t\t\t\tif (result.error) {\n\t\t\t\t\t\tthrow new StripeError(result.error);\n\t\t\t\t\t}\n\t\t\t\t\tpaymentMethodId = result.setupIntent.payment_method;\n\t\t\t\t\tremoveSetupIntent();\n\t\t\t\t} else {\n\t\t\t\t\t// payment method has already been created.\n\t\t\t\t\tif (paymentMethod) {\n\t\t\t\t\t\tpaymentMethodId = paymentMethod;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//create the payment method\n\t\t\t\t\t\tresult = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\n\t\t\t\t\t\tif (result.error) {\n\t\t\t\t\t\t\tthrow new StripeError(result.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpaymentMethodId = result.paymentMethod.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn ensureSuccessResponse(responseTypes, getSuccessResponse(paymentMethodId, shouldSavePayment));\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\tsetPaymentMethod(null);\n\t\t\t\treturn ensureErrorResponse(responseTypes, e.error);\n\t\t\t}\n\n\t\t});\n\t\treturn () => unsubscribeProcessingPayment();\n\t}, [\n\t\tpaymentMethod,\n\t\tbillingData,\n\t\tonPaymentProcessing,\n\t\tstripe,\n\t\tsetupIntent,\n\t\tactivePaymentMethod,\n\t\tshouldSavePayment\n\t]);\n\treturn {\n\t\tsetPaymentMethod,\n\t\tgetCreatePaymentMethodArgs,\n\t\taddPaymentMethodData\n\t};\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {getIntermediateAddress, getRoute} from '../util';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport {\n\tgetDisplayItems,\n\tgetShippingOptions,\n\tgetSelectedShippingOption,\n\tisFieldRequired,\n\ttoCartAddress as mapToCartAddress\n} from \"../util\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nconst toCartAddress = mapToCartAddress();\n\nexport const usePaymentRequest = (\n\t{\n\t\tgetData,\n\t\tonClose,\n\t\tstripe,\n\t\tbilling,\n\t\tshippingData,\n\t\tsetPaymentMethod,\n\t\texportedValues,\n\t\tcanPay\n\t}) => {\n\n\tconst {shippingAddress, needsShipping, shippingRates} = shippingData;\n\tconst {billingData, cartTotalItems, currency, cartTotal} = billing;\n\tconst [paymentRequest, setPaymentRequest] = useState(null);\n\tconst paymentRequestOptions = useRef({});\n\tconst currentShipping = useRef(shippingData)\n\tconst currentBilling = useRef(billing);\n\n\tuseEffect(() => {\n\t\tcurrentShipping.current = shippingData;\n\t\tcurrentBilling.current = billing;\n\t}, [shippingData, billing]);\n\n\tuseEffect(() => {\n\t\tif (stripe) {\n\t\t\tconst options = {\n\t\t\t\tcountry: getData('countryCode'),\n\t\t\t\tcurrency: currency?.code.toLowerCase(),\n\t\t\t\ttotal: {\n\t\t\t\t\tamount: cartTotal.value,\n\t\t\t\t\tlabel: cartTotal.label,\n\t\t\t\t\tpending: true\n\t\t\t\t},\n\t\t\t\trequestPayerName: true,\n\t\t\t\trequestPayerEmail: isFieldRequired('email', billingData.country),\n\t\t\t\trequestPayerPhone: isFieldRequired(needsShipping ? 'shipping-phone' : 'phone', billingData.country),\n\t\t\t\trequestShipping: needsShipping,\n\t\t\t\tdisplayItems: getDisplayItems(cartTotalItems, currency)\n\t\t\t}\n\t\t\tif (options.requestShipping) {\n\t\t\t\toptions.shippingOptions = getShippingOptions(shippingRates);\n\t\t\t}\n\t\t\tpaymentRequestOptions.current = options;\n\t\t\tconst paymentRequest = stripe.paymentRequest(paymentRequestOptions.current);\n\t\t\tpaymentRequest.canMakePayment().then(result => {\n\t\t\t\tif (canPay(result)) {\n\t\t\t\t\tsetPaymentRequest(paymentRequest);\n\t\t\t\t} else {\n\t\t\t\t\tsetPaymentRequest(null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [\n\t\tstripe,\n\t\tcartTotal.value,\n\t\tbillingData.country,\n\t\tshippingRates,\n\t\tcartTotalItems,\n\t\tcurrency.code\n\t]);\n\n\tconst onShippingAddressChange = useCallback(event => {\n\t\tconst shipping = currentShipping.current;\n\t\tconst {shippingAddress} = event;\n\t\tconst intermediateAddress = toCartAddress(shippingAddress);\n\t\tapiFetch({\n\t\t\tmethod: 'POST',\n\t\t\turl: getRoute('shipping-address'),\n\t\t\tdata: {\n\t\t\t\taddress: intermediateAddress,\n\t\t\t\tpayment_method: getData('name'),\n\t\t\t\tpage_id: 'checkout'\n\t\t\t}\n\t\t}).then(response => {\n\t\t\tevent.updateWith(response.data.newData);\n\t\t\tshipping.setShippingAddress({...shipping.shippingAddress, ...intermediateAddress});\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}, []);\n\n\n\tconst onShippingOptionChange = useCallback(event => {\n\t\tconst {shippingOption} = event;\n\t\tconst shipping = currentShipping.current;\n\n\t\tapiFetch({\n\t\t\tmethod: 'POST',\n\t\t\turl: getRoute('shipping-method'),\n\t\t\tdata: {\n\t\t\t\tshipping_method: shippingOption.id,\n\t\t\t\tpayment_method: getData('name'),\n\t\t\t\tpage_id: null\n\t\t\t}\n\t\t}).then(response => {\n\t\t\tevent.updateWith(response.data.newData);\n\t\t\tshipping.setSelectedRates(...getSelectedShippingOption(shippingOption.id))\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}, []);\n\n\tconst onPaymentMethodReceived = useCallback((paymentResponse) => {\n\t\tconst {paymentMethod, payerName = null, payerEmail = null, payerPhone = null} = paymentResponse;\n\t\t// set address data\n\t\tlet billingData = {payerName, payerEmail, payerPhone};\n\t\tif (paymentMethod?.billing_details.address) {\n\t\t\tbillingData = toCartAddress(paymentMethod.billing_details.address, billingData);\n\t\t}\n\t\texportedValues.billingData = billingData;\n\n\t\tif (paymentResponse.shippingAddress) {\n\t\t\texportedValues.shippingAddress = toCartAddress(paymentResponse.shippingAddress, {payerPhone});\n\t\t}\n\n\t\t// set payment method\n\t\tsetPaymentMethod(paymentMethod.id);\n\t\tpaymentResponse.complete(\"success\");\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (paymentRequest) {\n\t\t\tif (paymentRequestOptions.current.requestShipping) {\n\t\t\t\tpaymentRequest.on('shippingaddresschange', onShippingAddressChange);\n\t\t\t\tpaymentRequest.on('shippingoptionchange', onShippingOptionChange);\n\t\t\t}\n\t\t\tpaymentRequest.on('cancel', onClose);\n\t\t\tpaymentRequest.on('paymentmethod', onPaymentMethodReceived);\n\t\t}\n\t}, [\n\t\tonClose,\n\t\tpaymentRequest,\n\t\tonShippingAddressChange,\n\t\tonPaymentMethodReceived\n\t]);\n\n\treturn {paymentRequest};\n}"],"names":["exports","React","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","value","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","_s","_e","_arr","_n","_d","call","next","done","err","o","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","len","arr2","TypeError","createCommonjsModule","fn","module","hasOwnProperty","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","props","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","usePrevious","ref","useRef","useEffect","current","isUnknownObject","raw","isPromise","then","isStripe","elements","createToken","createPaymentMethod","confirmCardPayment","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","pred","every","extractAllowedOptionsUpdates","options","prevOptions","immutableKeys","reduce","newOptions","isUpdated","includes","console","warn","concat","INVALID_STRIPE_ERROR","validateStripe","maybeStripe","parseStripeProp","tag","stripePromise","Promise","resolve","stripe","ElementsContext","createContext","displayName","parseElementsContext","ctx","useCase","CartElementContext","parseCartElementContext","Elements","_ref","rawStripeProp","children","parsed","useMemo","_React$useState2","useState","cart","setCart","_React$useState4","cartState","setCartState","_React$useState6","setContext","isMounted","safeSetContext","prevStripe","updates","update","anyStripe","_registerWrapper","registerAppInfo","version","url","createElement","Provider","useElementsContextWithUseCase","useCaseMessage","useContext","useCartElementContextWithUseCase","useElements","useStripe","useCartElement","useCartElementState","ElementsConsumer","_ref2","useAttachEvent","event","cb","cbDefined","cbRef","decoratedCb","on","off","capitalized","str","charAt","toUpperCase","createElementComponent","type","isServer","Element","id","className","readyCallback","_ref$options","onBlur","onFocus","onReady","onChange","onEscape","onClick","onLoadError","onLoaderStart","onNetworksChange","onCheckout","onLineItemClick","onConfirm","onCancel","onShippingAddressChange","onShippingRateChange","setElement","elementRef","domNode","_useCartElementContex","useLayoutEffect","newElement","create","mount","destroy","error","__elementType","window","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentElement","ExpressCheckoutElement","PaymentRequestButtonElement","LinkAuthenticationElement","AddressElement","ShippingAddressElement","CartElement","PaymentMethodMessagingElement","AffirmMessageElement","AfterpayClearpayMessageElement","factory","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","loadScript","params","reject","document","Stripe","script","scripts","querySelectorAll","src","findScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","injectScript","addEventListener","stripePromise$1","loadCalled","loadStripe","_len","args","_key","startTime","Date","now","undefined","registerWrapper","initStripe","compile","expression","terms","variables","OPERATORS","a","b","c","evaluate","postfix","j","getOperatorResult","term","stack","pop","earlyReturn","pluralForms","PRECEDENCE","OPENERS","TERMINATORS","PATTERN","match","operator","substr","index","trim","indexOf","reverse","DEFAULT_HEADERS","Accept","DEFAULT_OPTIONS","credentials","middlewares","checkStatus","response","status","fetchHandler","nextOptions","path","data","parse","remainingOptions","headers","JSON","stringify","fetch","href","catch","code","message","__","apiFetch","reduceRight","middleware","workingOptions","enhancedHandler","nonceEndpoint","text","nonceMiddleware","nonce","use","unshift","setFetchHandler","newFetchHandler","createNonceMiddleware","createPreloadingMiddleware","createRootURLMiddleware","fetchAllMiddleware","mediaUploadMiddleware","createThemePreviewMiddleware","modifyQuery","queryArgs","parseResponse","json","getNextPageUrl","linkHeader","parseLinkHeader","get","async","pathIsUnbounded","urlIsUnbounded","requestContainsUnboundedQuery","per_page","results","nextPage","mergedResults","nextResponse","nextResults","OVERRIDE_METHODS","Set","DEFAULT_METHOD","method","has","isCreateMethod","isMediaUploadRequest","retries","postProcess","attachmentId","action","namespaceTrimmed","endpointTrimmed","namespace","endpoint","replace","headerName","toLowerCase","prepareResponse","responseData","Response","statusText","preloadedData","cache","fromEntries","entries","map","rawPath","rest_route","pathFromQuery","cacheData","rootURL","optionsWithPath","apiRoot","themePath","theme_preview","_locale","parseJsonAndNormalizeError","invalidJsonError","parseResponseAndNormalizeError","shouldParseResponse","res","parseAndThrowError","unknownError","hooks","storeKey","hookName","callback","priority","hooksStore","handler","handlers","splice","__current","hookInfo","currentIndex","runs","doAction","_hooksStore$__current","some","hook","_Hooks","this","actions","filters","addAction","addFilter","removeAction","removeFilter","hasAction","hasFilter","removeAllActions","removeAllFilters","applyFilters","currentAction","currentFilter","doingAction","doingFilter","didAction","didFilter","removeAll","handlersRemoved","returnFirstArg","result","defaultHooks","DEFAULT_LOCALE_DATA","plural_forms","I18N_HOOK_REGEXP","createI18n","initialData","initialDomain","tannin","listeners","notifyListeners","listener","doSetLocaleData","domain","setLocaleData","dcnpgettext","context","single","plural","getFilterDomain","_x","translation","onHookAddedOrRemoved","getLocaleData","addLocaleData","resetLocaleData","subscribe","add","delete","_nx","isRTL","hasTranslation","i18n","bind","addQueryArgs","baseUrl","queryStringIndex","assign","buildQueryString","pair","shift","valuePairs","member","memberValue","encodeURIComponent","join","getQueryArg","arg","getQueryArgs","split","accumulator","keyValue","Boolean","lastIndex","isNextKeyArrayIndex","isNaN","Number","setPath","getQueryString","query","URL","search","substring","hasQueryArg","normalizePath","splitted","base","entry","decodeURIComponent","sort","localeCompare","safeDecodeURIComponent","uriComponent","uriComponentError","_r","_objectSpread","_toPropertyKey","input","hint","prim","toPrimitive","String","_toPrimitive","_wc$getSetting","wc","getSetting","publishableKey","stripeParams","PAYMENT_REQUEST_ADDRESS_MAPPINGS","routes","recipient","address","first_name","last_name","payerName","country","addressLine","address_1","address_2","line1","line2","city","region","state","postalCode","postal_code","payerEmail","payerPhone","getSettings","toCartAddress","address_mappings","cartAddress","filterEmptyValues","_i2","_Object$entries2","_address","_Object$entries2$_i","cartKey","values","for","p","q","t","u","v","w","x","y","z","B","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","D","E","e","refs","updater","F","G","isReactComponent","setState","forceUpdate","H","isPureReactComponent","I","J","K","L","__self","__source","M","d","k","h","g","f","m","defaultProps","$$typeof","_owner","O","P","Q","escape","R","N","A","S","T","_status","_result","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","ReactCurrentOwner","Children","count","toArray","only","Component","Fragment","Profiler","PureComponent","StrictMode","Suspense","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","_currentValue","_currentValue2","_threadCount","Consumer","_defaultValue","_globalName","_context","createFactory","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useDebugValue","useDeferredValue","useId","useImperativeHandle","useInsertionEffect","useReducer","useSyncExternalStore","useTransition","re","not_string","not_bool","not_type","not_primitive","numeric_arg","not_json","modulo","placeholder","key_access","index_access","sign","sprintf","parse_tree","argv","ph","pad","pad_character","pad_length","is_positive","cursor","tree_length","output","param_no","Function","parseInt","fromCharCode","width","precision","parseFloat","toExponential","toFixed","toPrecision","valueOf","pad_char","repeat","align","sprintf_format","fmt","sprintf_cache","_fmt","arg_names","exec","SyntaxError","field_list","replacement_field","field_match","sprintf_parse","vsprintf","contextDelimiter","onMissingKey","Tannin","getPluralForm","config","pf","parts","part","getPluralExpression","singular","memize","tail","size","memoized","searchCache","prev","val","maxSize","clear","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","prop","mapToCartAddress"],"sourceRoot":""}