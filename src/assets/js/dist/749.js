(self.webpackChunksimple_secure_stripe=self.webpackChunksimple_secure_stripe||[]).push([[749],{749:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}window.sswps=window.sswps||{},function(e,i,s){var a=null;"undefined"==typeof sswps_checkout_fields&&(e.sswps_checkout_fields=[]),s.BaseGateway=function(t,e){this.params=t,this.gateway_id=this.params.gateway_id,this.container=void 0===e?"li.payment_method_".concat(this.gateway_id):e,i(this.container).length||(this.container=".payment_method_".concat(this.gateway_id)),this.token_selector=this.params.token_selector,this.saved_method_selector=this.params.saved_method_selector,this.payment_token_received=!1,this.stripe=a,this.fields=r,null!==this.stripe?(this.elements=this.create_stripe_elements(),this.initialize()):console.log("Gateways cannot be initialized because Stripe is not initialized.")},s.BaseGateway.prototype.create_stripe_elements=function(){var t=this.get_element_options();return t=i.extend({},{local:"auto"},t),this.stripe.elements(t)},s.BaseGateway.prototype.is_user_logged_in=function(){return this.params.user_id>0},s.BaseGateway.prototype.get_page=function(){var t=sswps_params_v3.page;return"cart"===t&&i(document.body).is(".woocommerce-checkout")&&(t="checkout"),t},s.BaseGateway.prototype.set_nonce=function(t){this.fields.set(this.gateway_id+"_token_key",t),i(this.token_selector).val(t)},s.BaseGateway.prototype.set_intent=function(t){this.fields.set(this.gateway_id+"_payment_intent_key",t),i("#"+this.gateway_id+"_payment_intent_key").val(t)},s.BaseGateway.prototype.get_element_options=function(){return this.params.elementOptions},s.BaseGateway.prototype.initialize=function(){},s.BaseGateway.prototype.create_button=function(){},s.BaseGateway.prototype.is_gateway_selected=function(){return i('[name="payment_method"]:checked').val()===this.gateway_id},s.BaseGateway.prototype.is_saved_method_selected=function(){return this.is_gateway_selected()&&"saved"===i('[name="'+this.gateway_id+'_payment_type_key"]:checked').val()},s.BaseGateway.prototype.has_checkout_error=function(){return i("#sswps_checkout_error").length>0&&this.is_gateway_selected()},s.BaseGateway.prototype.submit_error=function(t,e){var s=this.get_error_message(t);s.indexOf("</ul>")<0&&(s='<div class="'+function(){var t="woocommerce-NoticeGroup";return this.is_current_page("checkout")&&(t+=" woocommerce-NoticeGroup-checkout"),t}.bind(this)()+'"><ul class="woocommerce-error"><li>'+s+"</li></ul></div>");var a=i(document.body).triggerHandler("sswps_submit_error",[s,t,this]);s=void 0===a?s:a,this.submit_message(s,e)},s.BaseGateway.prototype.submit_error_code=function(t){console.log(t)},s.BaseGateway.prototype.get_error_message=function(e){return"object"==t(e)&&(e.hasOwnProperty("message")&&(e.message.indexOf("server_side_confirmation_beta=v1")>-1?e.code="server_side_confirmation_beta":e.message.indexOf("params.payment_method_data.billing_details.phone")>-1&&(e.code="phone_required")),e=e.code&&sswps_messages[e.code]?sswps_messages[e.code]:e.message),e},s.BaseGateway.prototype.submit_message=function(t,e){i(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove();var s=i(this.message_container);(!s.length||!e&&s.closest("form").length)&&(s.length||(s=i(this.container)),s=s.closest("form")),s.prepend(t),s.removeClass("processing"),i().unblock&&s.unblock(),s.find(".input-text, select, input:checkbox").trigger("blur"),i.scroll_to_notices?i.scroll_to_notices(s):i("html, body").animate({scrollTop:s.offset().top-100},1e3)},s.BaseGateway.prototype.get_billing_details=function(){var t=this.get_billing_prefix(),e={name:this.get_customer_name(t),address:{city:this.fields.get(t+"_city",null),country:this.fields.get(t+"_country",null),line1:this.fields.get(t+"_address_1",null),line2:this.fields.get(t+"_address_2",null),postal_code:this.fields.get(t+"_postcode",null),state:this.fields.get(t+"_state",null)}};return e.name&&" "!==e.name||delete e.name,""!=this.fields.get("billing_email")&&(e.email=this.fields.get("billing_email")),""!=this.fields.get("billing_phone")&&(e.phone=this.fields.get("billing_phone")),e},s.BaseGateway.prototype.get_first_name=function(t){return i("#"+t+"_first_name").val()},s.BaseGateway.prototype.get_last_name=function(t){return i("#"+t+"_last_name").val()},s.BaseGateway.prototype.get_shipping_prefix=function(){return this.needs_shipping()&&i('[name="ship_to_different_address"]').length>0&&i('[name="ship_to_different_address"]').is(":checked")?"shipping":"billing"},s.BaseGateway.prototype.get_billing_prefix=function(){var t="billing";i('[name="billing_same_as_shipping"]').length&&i('[name="billing_same_as_shipping"]').is(":checked")&&(t="shipping"),i('[name="bill_to_different_address"]').length&&(i('[name="bill_to_different_address"]').length>1?"same_as_shipping"===i('[name="bill_to_different_address"]:checked').val()&&(t="shipping"):i('[name="bill_to_different_address"]').is(":checked")||(t="shipping"));var e=i(document.body).triggerHandler("sswps_get_billing_prefix",[t]);return void 0===e?t:e},s.BaseGateway.prototype.should_save_method=function(){return i("#"+this.gateway_id+"_save_source_key").is(":checked")},s.BaseGateway.prototype.is_add_payment_method_page=function(){return"add_payment_method"===this.get_page()||i(document.body).hasClass("woocommerce-add-payment-method")},s.BaseGateway.prototype.is_change_payment_method=function(){return"change_payment_method"===this.get_page()},s.BaseGateway.prototype.get_selected_payment_method=function(){return i(this.saved_method_selector).val()},s.BaseGateway.prototype.needs_shipping=function(){return this.get_gateway_data().needs_shipping},s.BaseGateway.prototype.get_currency=function(){return this.get_gateway_data().currency},s.BaseGateway.prototype.get_gateway_data=function(){var t=i(this.container).find(".woocommerce_".concat(this.gateway_id,"_gateway_data")).data("gateway");return void 0===t&&this.is_current_page("checkout")&&void 0===(t=i("form.checkout").find(".woocommerce_".concat(this.gateway_id,"_gateway_data")).data("gateway"))&&(t=i(".woocommerce_"+this.gateway_id+"_gateway_data").data("gateway")),t},s.BaseGateway.prototype.set_gateway_data=function(t){i(this.container).find(".woocommerce_".concat(this.gateway_id,"_gateway_data")).data("gateway",t)},s.BaseGateway.prototype.has_gateway_data=function(){return void 0!==this.get_gateway_data()},s.BaseGateway.prototype.get_customer_name=function(t){return this.fields.get(t+"_first_name")+" "+this.fields.get(t+"_last_name")},s.BaseGateway.prototype.get_customer_email=function(){return this.fields.get("billing_email")},s.BaseGateway.prototype.get_address_field_hash=function(t){for(var e=["_first_name","_last_name","_address_1","_address_2","_postcode","_city","_state","_country"],i="",s=0;s<e.length;s++)i+=this.fields.get(t+e[s])+"_";return i},s.BaseGateway.prototype.block=function(){i().block&&i.blockUI({message:null,overlayCSS:{background:"#fff",opacity:.6}})},s.BaseGateway.prototype.unblock=function(){i().block&&i.unblockUI()},s.BaseGateway.prototype.get_form=function(){return i(this.token_selector).closest("form")},s.BaseGateway.prototype.get_total_price=function(){return this.get_gateway_data().total},s.BaseGateway.prototype.get_total_price_cents=function(){return this.get_gateway_data().total_cents},s.BaseGateway.prototype.set_total_price=function(t){var e=this.get_gateway_data();e.total=t,this.set_gateway_data(e)},s.BaseGateway.prototype.set_total_price_cents=function(t){var e=this.get_gateway_data();e.total_cents=t,this.set_gateway_data(e)},s.BaseGateway.prototype.set_payment_method=function(t){i('[name="payment_method"][value="'+t+'"]').prop("checked",!0).trigger("click")},s.BaseGateway.prototype.set_selected_shipping_methods=function(t){if(this.fields.set("shipping_method",t),t&&i('[name^="shipping_method"]').length)for(var e in t){var s=t[e];i('[name="shipping_method['+e+']"][value="'+s+'"]').prop("checked",!0).trigger("change")}},s.BaseGateway.prototype.on_token_received=function(t){this.payment_token_received=!0,this.set_nonce(t.id),this.process_checkout()},s.BaseGateway.prototype.createPaymentRequest=function(){try{this.payment_request_options=this.get_payment_request_options(),this.paymentRequest=a.paymentRequest(this.payment_request_options),this.payment_request_options.requestShipping&&(this.paymentRequest.on("shippingaddresschange",this.update_shipping_address.bind(this)),this.paymentRequest.on("shippingoptionchange",this.update_shipping_method.bind(this))),this.paymentRequest.on("paymentmethod",this.on_payment_method_received.bind(this))}catch(t){return void this.submit_error(t.message)}},s.BaseGateway.prototype.get_payment_request_options=function(){var t={country:this.params.country_code,currency:this.get_currency().toLowerCase(),total:{amount:this.get_total_price_cents(),label:this.params.total_label,pending:!0},requestPayerName:function(){return!this.is_current_page("checkout")||!this.is_valid_address(this.get_address_object("billing"),"billing",["email","phone"])}.bind(this)(),requestPayerEmail:this.fields.requestFieldInWallet("billing_email"),requestPayerPhone:this.fields.requestFieldInWallet("billing_phone"),requestShipping:function(){if(this.needs_shipping()){var t=this.get_shipping_prefix();if(this.is_current_page("checkout")&&!this.is_valid_address(this.get_address_object(t),t,["email","phone"])||!this.is_current_page("checkout"))return!0}return!1}.bind(this)()},e=this.get_display_items(),i=this.get_shipping_options();return e&&(t.displayItems=e),t.requestShipping&&i&&(t.shippingOptions=i),t},s.BaseGateway.prototype.get_payment_request_update=function(t){var e={currency:this.get_currency().toLowerCase(),total:{amount:parseInt(this.get_total_price_cents()),label:this.params.total_label,pending:!0}},s=this.get_display_items(),a=this.get_shipping_options();return s&&(e.displayItems=s),this.payment_request_options.requestShipping&&a&&(e.shippingOptions=a),t&&(e=i.extend(!0,{},e,t)),e},s.BaseGateway.prototype.get_display_items=function(){return this.get_gateway_data().items},s.BaseGateway.prototype.set_display_items=function(t){var e=this.get_gateway_data();e.items=t,this.set_gateway_data(e)},s.BaseGateway.prototype.get_shipping_options=function(){return this.get_gateway_data().shipping_options},s.BaseGateway.prototype.set_shipping_options=function(t){var e=this.get_gateway_data();e.shipping_options=t,this.set_gateway_data(e)},s.BaseGateway.prototype.map_address=function(t){return{city:t.city,postcode:t.postalCode,state:t.region,country:t.country}},s.BaseGateway.prototype.on_payment_method_received=function(t){try{this.payment_response=t,this.populate_checkout_fields(t),t.complete("success"),this.on_token_received(t.paymentMethod)}catch(t){e.alert(t)}},s.BaseGateway.prototype.populate_checkout_fields=function(t){this.set_nonce(t.paymentMethod.id),this.update_addresses(t)},s.BaseGateway.prototype.update_addresses=function(t){t.payerName&&this.fields.set("name",t.payerName,"billing"),t.payerEmail&&this.fields.set("email",t.payerEmail,"billing"),t.payerPhone&&(this.fields.set("phone",t.payerPhone,"billing"),this.fields.exists("shipping_phone")&&this.fields.isEmpty("shipping_phone")&&this.fields.set("shipping_phone",t.payerPhone)),t.shippingAddress&&this.populate_shipping_fields(t.shippingAddress),t.paymentMethod.billing_details.address&&this.populate_billing_fields(t.paymentMethod.billing_details.address)},s.BaseGateway.prototype.populate_address_fields=function(t,e){for(var i in t)null!==t[i]&&this.fields.set(i,t[i],e)},s.BaseGateway.prototype.populate_billing_fields=function(t){this.populate_address_fields(t,"billing")},s.BaseGateway.prototype.populate_shipping_fields=function(t){this.populate_address_fields(t,"shipping")},s.BaseGateway.prototype.get_address_fields=function(){return["first_name","last_name","country","address_1","address_2","city","state","postcode","phone","email"]},s.BaseGateway.prototype.get_address_object=function(t){var e={};return this.get_address_fields().forEach(function(i){e[i]=this.fields.get(i,t)}.bind(this)),e},s.BaseGateway.prototype.is_current_page=function(t){return Array.isArray(t)?t.indexOf(this.get_page())>-1:this.get_page()===t},s.BaseGateway.prototype.is_valid_address=function(t,e,s){if(i.isEmptyObject(t))return!1;var a=this.get_address_fields();void 0!==s&&s.forEach((function(t){a.indexOf(t)>-1&&a.splice(a.indexOf(t),1)}));for(var n=0;n<a.length;n++){var o=a[n];if(this.fields.required(e+"_"+o)&&(!t[o]||void 0===t[o]||!this.fields.isValid(o,t[o],t)))return!1}return!0},s.BaseGateway.prototype.ajax_before_send=function(t){this.is_user_logged_in()&&t.setRequestHeader("X-WP-Nonce",this.params.rest_nonce)},s.BaseGateway.prototype.process_checkout=function(){return new Promise(function(){this.block(),i.ajax({url:this.params.routes.checkout,method:"POST",dataType:"json",data:i.extend({},this.serialize_fields(),{payment_method:this.gateway_id,page_id:this.get_page(),currency:this.get_currency()}),beforeSend:this.ajax_before_send.bind(this)}).done(function(t){t.reload?e.location.reload():"success"===t.result?e.location=t.redirect:(t.messages&&this.submit_error(t.messages),this.unblock())}.bind(this)).fail(function(t,e,i){this.unblock(),this.submit_error(i)}.bind(this))}.bind(this))},s.BaseGateway.prototype.process_payment=function(t,s){i.ajax({method:"POST",url:this.params.routes.checkout_payment,dataType:"json",data:i.extend({},this.fields.toJson(),{order_id:t,order_key:s}),beforeSend:this.ajax_before_send.bind(this)}).done(function(t){if(t.result&&"success"===t.result)e.location=t.redirect;else{if(t.reload)return e.location.reload();t.messages?(this.payment_token_received=!1,this.submit_error(t.messages)):this.submit_error(wc_checkout_params.i18n_checkout_error)}}.bind(this)).fail(function(){}.bind(this))},s.BaseGateway.prototype.handle_next_action=function(t){try{return this.stripe[this.handleActionMethod](t.client_secret).then(function(e){if(e.error)return this.unblock(),this.payment_token_received=!1,this.submit_error(e.error);this.is_current_page("order_pay")?this.get_form().trigger("submit"):this.process_payment(t.order_id,t.order_key)}.bind(this)).catch(function(t){this.submit_error(t.message)}.bind(this)),!1}catch(t){}},s.BaseGateway.prototype.handle_payment_method_setup=function(t){try{return this.stripe[this.setupActionMethod](t.client_secret).then(function(e){if(e.error)return this.payment_token_received=!1,this.submit_error(e.error);this.is_current_page("order_pay")?this.get_form().trigger("submit"):this.process_payment(t.order_id,t.order_key)}.bind(this)).catch(function(t){this.submit_error(t.message)}.bind(this)),!1}catch(t){}},s.BaseGateway.prototype.hashchange=function(t){var i=e.location.hash.match(/response=(.*)/);if(i)try{var s=JSON.parse(e.atob(decodeURIComponent(i[1])));s&&s.hasOwnProperty("client_secret")&&s.gateway_id===this.gateway_id&&(history.pushState({},"",e.location.pathname),"intent"===s.type?this.handle_next_action(s):this.handle_payment_method_setup(s))}catch(t){}return!0},s.BaseGateway.prototype.sync_payment_intent=function(t,e){return new Promise(function(s,a){i.ajax({method:"POST",dataType:"json",url:this.params.routes.sync_intent,data:{order_id:t,client_secret:e},beforeSend:this.ajax_before_send.bind(this)}).done((function(t){t.code?a(t):s(t)})).fail(function(t,e,i){this.submit_error(i)}.bind(this))}.bind(this))},s.BaseGateway.prototype.create_setup_intent=function(){return new Promise(function(t,e){i.ajax({method:"POST",dataType:"json",data:{payment_method:this.gateway_id},url:this.params.routes.setup_intent,beforeSend:this.ajax_before_send.bind(this)}).done(function(i){i.code?e(i.message):(this.client_secret=i.intent.client_secret,t(i))}.bind(this)).fail(function(t,e,i){this.submit_error(i)}.bind(this))}.bind(this))},s.BaseGateway.prototype.serialize_form=function(t){var e=t.find("input").filter(function(t,e){return!i(e).is('[name^="add-to-cart"]')}.bind(this)).serializeArray(),s={};for(var a in e){var n=e[a];s[n.name]=n.value}return s.payment_method=this.gateway_id,s},s.BaseGateway.prototype.serialize_fields=function(){return i.extend({},this.fields.toJson(),i(document.body).triggerHandler("sswps_process_checkout_data",[this,this.fields]))},s.BaseGateway.prototype.map_shipping_methods=function(t){var e={};if("default"!==t){var i=t.match(/^([\w+]):(.+)$/);i.length>1&&(e[i[1]]=i[2])}return e},s.BaseGateway.prototype.maybe_set_ship_to_different=function(){i('[name="ship_to_different_address"]').length&&i('[name="ship_to_different_address"]').prop("checked",this.get_address_field_hash("billing")!==this.get_address_field_hash("shipping")).trigger("change")},s.BaseGateway.prototype.update_shipping_address=function(t,e){return new Promise(function(s,a){i.ajax({url:this.params.routes.shipping_address,method:"POST",dataType:"json",data:i.extend({},{address:this.map_address(t.shippingAddress),payment_method:this.gateway_id,page_id:this.get_page(),currency:this.get_currency()},e),beforeSend:this.ajax_before_send.bind(this)}).done(function(e){e.code?(t.updateWith(e.data.newData),a(e.data)):(t.updateWith(e.data.newData),this.fields.set("shipping_method",e.data.shipping_method),s(e.data))}.bind(this)).fail(function(){}.bind(this))}.bind(this))},s.BaseGateway.prototype.update_shipping_method=function(t,e){return new Promise(function(s,a){i.ajax({url:this.params.routes.shipping_method,method:"POST",dataType:"json",data:i.extend({},{shipping_method:t.shippingOption.id,payment_method:this.gateway_id,currency:this.get_currency(),page_id:this.get_page()},e),beforeSend:this.ajax_before_send.bind(this)}).done(function(e){e.code?(t.updateWith(e.data.newData),a(e.data)):(this.set_selected_shipping_methods(e.data.shipping_methods),t.updateWith(e.data.newData),s(e.data))}.bind(this)).fail(function(t,e,i){this.submit_error(i)}.bind(this))}.bind(this))},s.CheckoutGateway=function(){this.message_container="li.payment_method_"+this.gateway_id,this.banner_container="li.banner_payment_method_"+this.gateway_id,i(document.body).on("update_checkout",this.update_checkout.bind(this)),i(document.body).on("updated_checkout",this.updated_checkout.bind(this)),i(document.body).on("updated_checkout",this.container_styles.bind(this)),i(document.body).on("checkout_error",this.checkout_error.bind(this)),i(this.token_selector).closest("form").on("checkout_place_order_"+this.gateway_id,this.checkout_place_order.bind(this)),i(document.body).on("sswps_new_method_"+this.gateway_id,this.on_show_new_methods.bind(this)),i(document.body).on("sswps_saved_method_"+this.gateway_id,this.on_show_saved_methods.bind(this)),i(document.body).on("sswps_payment_method_selected",this.on_payment_method_selected.bind(this)),this.banner_enabled()&&i(".woocommerce-billing-fields").length&&i(".sswps-banner-checkout").css("max-width",i(".woocommerce-billing-fields").outerWidth(!0)),this.container_styles(),this.hasOrderReviewParams()},s.CheckoutGateway.prototype.container_styles=function(){this.params.description||i(this.container).addClass("sswps-no-desc"),i(this.container).find(".sswps-saved-methods").length||i(this.container).find(".payment_box").addClass("sswps-no-methods")},s.CheckoutGateway.prototype.hasOrderReviewParams=function(){var t=e.location.search.match(/_stripe_order_review=(.+)/);if(t&&t.length>1)try{var s=JSON.parse(e.atob(decodeURIComponent(t[1])));this.gateway_id===s.payment_method&&(i(function(){this.payment_token_received=!0,this.set_nonce(s.payment_nonce),this.set_use_new_option(!0)}.bind(this)),history.pushState({},"",e.location.pathname))}catch(t){}},s.CheckoutGateway.prototype.has3DSecureParams=function(){if((this.is_current_page("order_pay")||this.is_current_page("checkout")||this.is_change_payment_method())&&e.location.hash&&"string"==typeof e.location.hash){var t=e.location.hash.match(/response=(.*)/);if(t)try{var s=JSON.parse(e.atob(decodeURIComponent(t[1])));s&&s.hasOwnProperty("client_secret")&&s.gateway_id===this.gateway_id&&(i(function(){this.set_payment_method(this.gateway_id),this.set_use_new_option(!0),this.set_nonce(s.pm),!0===s.save_method&&this.set_save_payment_method(!0),i('[name="terms"]').prop("checked",!0)}.bind(this)),history.pushState({},"",e.location.pathname+e.location.search),this.handle_next_action(s))}catch(t){}}},s.CheckoutGateway.prototype.update_shipping_address=function(){return s.BaseGateway.prototype.update_shipping_address.apply(this,arguments).then(function(t){this.populate_address_fields(t.address,this.get_shipping_prefix()),this.fields.toFormFields({update_shipping_method:!1})}.bind(this))},s.CheckoutGateway.prototype.updated_checkout=function(){},s.CheckoutGateway.prototype.update_checkout=function(){},s.CheckoutGateway.prototype.checkout_error=function(){this.has_checkout_error()&&(this.payment_token_received=!1,this.payment_response=null,this.show_payment_button(),this.hide_place_order())},s.CheckoutGateway.prototype.is_valid_checkout=function(){return!(i('[name="terms"]').length&&i('[name="terms"]').is(":visible")&&!i('[name="terms"]').is(":checked"))},s.CheckoutGateway.prototype.get_payment_method=function(){return i('[name="payment_method"]:checked').val()},s.CheckoutGateway.prototype.set_use_new_option=function(t){i("#"+this.gateway_id+"_use_new").prop("checked",t).trigger("change")},s.CheckoutGateway.prototype.checkout_place_order=function(){return this.is_valid_checkout()?!!this.is_saved_method_selected()||this.payment_token_received:(this.submit_error(this.params.messages.terms),!1)},s.CheckoutGateway.prototype.on_token_received=function(t){this.payment_token_received=!0,this.set_nonce(t.id),this.hide_payment_button(),this.show_place_order()},s.CheckoutGateway.prototype.block=function(){i().block&&this.get_form().block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},s.CheckoutGateway.prototype.unblock=function(){i().block&&this.get_form().unblock()},s.CheckoutGateway.prototype.hide_place_order=function(){i("#place_order").addClass("sswps-hide")},s.CheckoutGateway.prototype.show_place_order=function(){i("#place_order").removeClass("sswps-hide")},s.CheckoutGateway.prototype.on_show_new_methods=function(){this.payment_token_received?(this.show_place_order(),this.hide_payment_button()):(this.hide_place_order(),this.show_payment_button())},s.CheckoutGateway.prototype.on_show_saved_methods=function(){this.hide_payment_button(),this.show_place_order()},s.CheckoutGateway.prototype.show_payment_button=function(){this.$button&&this.$button.show()},s.CheckoutGateway.prototype.hide_payment_button=function(){this.$button&&this.$button.hide()},s.CheckoutGateway.prototype.trigger_payment_method_selected=function(){this.on_payment_method_selected(null,i('[name="payment_method"]:checked').val())},s.CheckoutGateway.prototype.show_new_payment_method=function(){i('[name="'+this.gateway_id+'_payment_type_key"][value="new"').trigger("click")},s.CheckoutGateway.prototype.on_payment_method_selected=function(t,e){e===this.gateway_id?this.payment_token_received||this.is_saved_method_selected()?(this.hide_payment_button(),this.show_place_order()):(this.show_payment_button(),this.hide_place_order()):(this.hide_payment_button(),e&&e.indexOf("sswps_")<0&&this.show_place_order())},s.CheckoutGateway.prototype.banner_enabled=function(){return"1"===this.params.banner_enabled},s.CheckoutGateway.prototype.checkout_fields_valid=function(){if(["checkout","order_pay"].indexOf(this.get_page())<0)return!0;var t=!0;return(t=this.fields.validateFields("billing"))?this.needs_shipping()&&i("#ship-to-different-address-checkbox").is(":checked")?(t=this.fields.validateFields("shipping"))||this.submit_error(this.params.messages.required_field):(t=this.is_valid_checkout())||this.submit_error(this.params.messages.terms):this.submit_error(this.params.messages.required_field),t},s.CheckoutGateway.prototype.cart_contains_subscription=function(){return"undefined"!=typeof sswps_cart_contains_subscription&&!0===sswps_cart_contains_subscription},s.CheckoutGateway.prototype.set_save_payment_method=function(t){i('[name="'+this.gateway_id+'_save_source_key"]').prop("checked",t)},s.CheckoutGateway.prototype.process_order_pay=function(){var t=this.get_form().serializeArray();t.push({name:"_wpnonce",value:this.params.rest_nonce}),t.push({name:"order_id",value:this.params.order_id}),t.push({name:"order_key",value:this.params.order_key}),this.block(),i.ajax({url:this.params.routes.order_pay,method:"POST",dataType:"json",data:i.param(t)}).done(function(t){t.success?t.needs_confirmation?t.data?this.handle_next_action(t.data):e.location.href=t.redirect:this.get_form().trigger("submit"):this.submit_error(t.message)}.bind(this)).fail(function(t,e,i){this.unblock(),this.submit_error(i)}.bind(this))},s.CheckoutGateway.prototype.handle_create_account_change=function(){i("#createaccount").length&&(i("#createaccount").is(":checked")&&!this.linkPaymentEnabled?this.show_save_card():this.hide_save_card())},s.CheckoutGateway.prototype.hide_save_card=function(){i(this.container).find(".wc-stripe-save-source").hide()},s.CheckoutGateway.prototype.show_save_card=function(){i(this.container).find(".wc-stripe-save-source").show()},s.ProductGateway=function(){this.message_container="div.product",i("form.cart").on("found_variation",this.found_variation.bind(this)),i("form.cart").on("reset_data",this.reset_variation_data.bind(this)),this.buttonWidth=i("form.cart div.quantity").outerWidth(!0)+i(".single_add_to_cart_button").outerWidth();var t=i(".single_add_to_cart_button").css("marginLeft");t&&(this.buttonWidth+=parseInt(t.replace("px",""))),i(this.container).css("max-width",this.buttonWidth+"px")},s.ProductGateway.prototype.update_shipping_address=function(t){return s.BaseGateway.prototype.update_shipping_address.call(this,t,this.get_add_to_cart_data())},s.ProductGateway.prototype.update_shipping_method=function(t){return s.BaseGateway.prototype.update_shipping_method.call(this,t,this.get_add_to_cart_data())},s.ProductGateway.prototype.get_quantity=function(){return parseInt(i('[name="quantity"]').val())},s.ProductGateway.prototype.set_rest_nonce=function(t,e){this.params.rest_nonce=e},s.ProductGateway.prototype.found_variation=function(t,e){var i=this.get_gateway_data();i.product.price=e.display_price,i.product.price_cents=e.display_price_cents,i.needs_shipping=!e.is_virtual,i.product.variation=e,this.set_gateway_data(i)},s.ProductGateway.prototype.reset_variation_data=function(){var t=this.get_product_data();t.variation=!1,this.set_product_data(t),this.disable_payment_button()},s.ProductGateway.prototype.disable_payment_button=function(){this.$button&&this.get_button().prop("disabled",!0).addClass("disabled")},s.ProductGateway.prototype.enable_payment_button=function(){this.$button&&this.get_button().prop("disabled",!1).removeClass("disabled")},s.ProductGateway.prototype.get_button=function(){return this.$button},s.ProductGateway.prototype.is_variable_product=function(){return!!this.get_product_data().variation||i('[name="variation_id"]').length>0},s.ProductGateway.prototype.variable_product_selected=function(){var t=this.get_product_data().variation,e=i('input[name="variation_id"]').val();return!!t||!!e&&"0"!=e},s.ProductGateway.prototype.get_product_data=function(){return this.get_gateway_data().product},s.ProductGateway.prototype.set_product_data=function(t){var e=this.get_gateway_data();e.product=t,this.set_gateway_data(e)},s.ProductGateway.prototype.get_form=function(){return i(this.container).closest("form")},s.ProductGateway.prototype.get_add_to_cart_data=function(){return{product_id:this.get_product_data().id,variation_id:this.is_variable_product()?i('[name="variation_id"]').val():0,qty:i('[name="quantity"]').val(),payment_method:this.gateway_id,currency:this.get_currency(),page_id:this.get_page()}},s.ProductGateway.prototype.add_to_cart=function(){return new Promise(function(t,e){this.block();var s=this.get_add_to_cart_data(),a=this.get_form().find(':not([name="add-to-cart"],[name="quantity"],[name^="attribute_"],[name="variation_id"])').serializeArray();if(a)for(var n in a)s[a[n].name]=a[n].value;i.ajax({url:this.params.routes.add_to_cart,method:"POST",dataType:"json",data:i.extend({},s,this.get_product_variations()),beforeSend:this.ajax_before_send.bind(this)}).done(function(i){this.unblock(),i.code?(this.submit_error(i.message),e(i)):(this.set_total_price(i.data.total),this.set_total_price_cents(i.data.totalCents),this.set_display_items(i.data.displayItems),t(i.data))}.bind(this)).fail(function(t,e,i){this.unblock(),this.submit_error(i)}.bind(this))}.bind(this))},s.ProductGateway.prototype.cart_calculation=function(){return s.processing_calculation||(s.processing_calculation=new Promise(function(t,e){var s=this.get_product_data().variation;i.ajax({url:this.params.routes.cart_calculation,method:"POST",dataType:"json",data:i.extend({},this.get_add_to_cart_data(),this.get_product_variations(),{variation_id:s.variation_id}),beforeSend:this.ajax_before_send.bind(this)}).done(function(i){i.code?e(i):t(i.data)}.bind(this)).fail((function(){e()}))}.bind(this)).finally(function(){s.processing_calculation=!1}.bind(this))),s.processing_calculation},s.ProductGateway.prototype.update_from_cart_calculation=function(t){t&&t[this.gateway_id]&&(this.set_total_price(t[this.gateway_id].total),this.set_total_price_cents(t[this.gateway_id].totalCents),this.set_display_items(t[this.gateway_id].displayItems))},s.ProductGateway.prototype.get_product_variations=function(){var t={};return this.is_variable_product()&&i('.variations [name^="attribute_"]').each((function(e,s){var a=i(s),n=a.data("attribute_name")||a.attr("name");t[n]=a.val()})),t},s.CartGateway=function(){this.message_container="div.woocommerce",i(document.body).on("updated_wc_div",this.updated_html.bind(this)),i(document.body).on("updated_cart_totals",this.updated_html.bind(this)),i(document.body).on("wc_cart_emptied",this.cart_emptied.bind(this))},s.CartGateway.prototype.submit_error=function(t){this.submit_message(this.get_error_message(t))},s.CartGateway.prototype.updated_html=function(t){},s.CartGateway.prototype.cart_emptied=function(t){},s.CartGateway.prototype.add_cart_totals_class=function(){i(".cart_totals").addClass("stripe_cart_gateway_active")},s.GooglePay=function(){},s.GooglePay.prototype.handleActionMethod="handleCardAction",s.GooglePay.prototype.setupActionMethod="confirmCardSetup";var n={apiVersion:2,apiVersionMinor:0},o={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"],assuranceDetailsRequired:!0}};s.GooglePay.prototype.update_addresses=function(t){if(t.paymentMethodData.info.billingAddress){var e=t.paymentMethodData.info.billingAddress;this.is_current_page("checkout")&&this.is_valid_address(this.billing_address_object,"billing",["phone","email"])&&(e={phoneNumber:e.phoneNumber}),this.populate_billing_fields(e),e.phoneNumber&&this.fields.exists("shipping_phone")&&this.fields.isEmpty("shipping_phone")&&this.fields.set("shipping_phone",e.phoneNumber)}t.shippingAddress&&this.populate_shipping_fields(t.shippingAddress),t.email&&this.fields.set("email",t.email,"billing")},s.GooglePay.prototype.map_address=function(t){return{city:t.locality,postcode:t.postalCode,state:t.administrativeArea,country:t.countryCode}},s.GooglePay.prototype.update_payment_data=function(t,e){return new Promise(function(s,a){var n="default"==t.shippingOptionData.id?null:t.shippingOptionData.id;i.when(i.ajax({url:this.params.routes.payment_data,dataType:"json",method:"POST",data:i.extend({},{address:this.map_address(t.shippingAddress),shipping_method:n,page_id:this.get_page(),currency:this.get_currency()},e),beforeSend:this.ajax_before_send.bind(this)})).done(function(t){t.code?a(t.data.data):s(t.data)}.bind(this)).fail(function(){a()}.bind(this))}.bind(this))},s.GooglePay.prototype.on_payment_data_changed=function(t){return new Promise(function(e){this.update_payment_data(t).then(function(t){e(t.paymentRequestUpdate),this.set_selected_shipping_methods(t.shipping_methods),this.payment_data_updated(t,address)}.bind(this)).catch(function(t){e(t)}.bind(this))}.bind(this))},s.GooglePay.prototype.payment_data_updated=function(t){},s.GooglePay.prototype.get_merchant_info=function(){var t={merchantId:this.params.merchant_id,merchantName:this.params.merchant_name};return"TEST"===this.params.environment&&delete t.merchantId,t},s.GooglePay.prototype.get_payment_options=function(){var t={environment:this.params.environment,merchantInfo:this.get_merchant_info(),paymentDataCallbacks:{onPaymentAuthorized:function(){return new Promise(function(t){t({transactionState:"SUCCESS"})}.bind(this))}}};if(this.needs_shipping()){var e=this.get_shipping_prefix();(this.is_current_page("checkout")&&!this.is_valid_address(this.get_address_object(e),e,["email","phone"])||!this.is_current_page("checkout"))&&(t.paymentDataCallbacks.onPaymentDataChanged=this.on_payment_data_changed.bind(this))}return t},s.GooglePay.prototype.build_payment_request=function(){var t=i.extend({},n,{emailRequired:this.fields.requestFieldInWallet("billing_email"),merchantInfo:this.get_merchant_info(),allowedPaymentMethods:[i.extend({type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2018-10-31","stripe:publishableKey":this.params.api_key}}},o)],shippingAddressRequired:function(){if(this.needs_shipping()){var t=this.get_shipping_prefix();if(this.is_current_page("checkout")&&!this.is_valid_address(this.get_address_object(t),t,["email","phone"])||!this.is_current_page("checkout"))return!0}return!1}.bind(this)(),transactionInfo:{countryCode:this.params.processing_country,currencyCode:this.get_currency(),totalPriceStatus:"ESTIMATED",totalPrice:this.get_total_price().toString(),displayItems:this.get_display_items(),totalPriceLabel:this.params.total_price_label}});return t.allowedPaymentMethods[0].parameters.billingAddressRequired=function(){if(this.is_current_page("checkout")){var t=this.billing_address_object=this.get_address_object("billing");return!(!this.fields.requestFieldInWallet("billing_phone")&&this.is_valid_address(t,"billing",["email"]))}return!0}.bind(this)(),t.allowedPaymentMethods[0].parameters.billingAddressRequired&&(t.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:this.fields.requestFieldInWallet("billing_phone")}),t.shippingAddressRequired?(t.shippingAddressParameters={},t.shippingOptionRequired=!0,t.shippingOptionParameters={shippingOptions:this.get_shipping_options()},t.callbackIntents=["SHIPPING_ADDRESS","SHIPPING_OPTION","PAYMENT_AUTHORIZATION"]):t.callbackIntents=["PAYMENT_AUTHORIZATION"],this.payment_request_options=t,t},s.GooglePay.prototype.createPaymentsClient=function(){this.paymentsClient=new google.payments.api.PaymentsClient(this.get_payment_options())},s.GooglePay.prototype.isReadyToPay=function(){return new Promise(function(t){var e=i.extend({},n);e.allowedPaymentMethods=[o],this.paymentsClient.isReadyToPay(e).then(function(){this.can_pay=!0,this.create_button(),t()}.bind(this)).catch(function(t){t&&t.message&&t.message.indexOf("ShadowRoot")>-1?console.log("GPay is not supported on this browser."):this.submit_error(t)}.bind(this))}.bind(this))},s.GooglePay.prototype.create_button=function(){this.$button&&this.$button.remove(),this.$button=i(this.paymentsClient.createButton(this.get_button_options())),this.$button.addClass("gpay-button-container")},s.GooglePay.prototype.is_rectangle_button=function(){return"rect"===this.params.button_shape},s.GooglePay.prototype.get_button_options=function(){var t={onClick:this.start.bind(this),buttonColor:this.params.button_color,buttonType:this.params.button_style,buttonSizeMode:this.params.button_size_mode};return null!==this.params.button_locale&&(t.buttonLocale=this.params.button_locale),t},s.GooglePay.prototype.start=function(){this.createPaymentsClient(),this.paymentsClient.loadPaymentData(this.build_payment_request()).then(function(t){var e=JSON.parse(t.paymentMethodData.tokenizationData.token);this.update_addresses(t),this.stripe.createPaymentMethod({type:"card",card:{token:e.id},billing_details:this.get_billing_details()}).then(function(t){if(t.error)return this.submit_error(t.error);this.on_token_received(t.paymentMethod)}.bind(this))}.bind(this)).catch(function(t){"CANCELED"!==t.statusCode&&(t.statusMessage&&t.statusMessage.indexOf("paymentDataRequest.callbackIntent")>-1?this.submit_error_code("DEVELOPER_ERROR_WHITELIST"):this.submit_error(t.statusMessage))}.bind(this))},s.ApplePay=function(){},s.ApplePay.prototype.handleActionMethod="handleCardAction",s.ApplePay.prototype.setupActionMethod="confirmCardSetup",s.ApplePay.prototype.initialize=function(){this.createPaymentRequest(),this.canMakePayment()},s.ApplePay.prototype.get_payment_request_options=function(){return i.extend({},s.BaseGateway.prototype.get_payment_request_options.apply(this,arguments),{disableWallets:["googlePay"]})},s.ApplePay.prototype.create_button=function(){this.$button&&this.$button.remove(),this.$button=i(this.params.button),this.$button.on("click",this.start.bind(this)),this.append_button()},s.ApplePay.prototype.canMakePayment=function(){return new Promise(function(t){this.paymentRequest.canMakePayment().then(function(e){e&&e.applePay&&(this.can_pay=!0,this.create_button(),i(this.container).show(),t(e))}.bind(this))}.bind(this))},s.ApplePay.prototype.start=function(t){t.preventDefault(),this.paymentRequest.update(this.get_payment_request_update({total:{pending:!1}})),this.paymentRequest.show()},s.PaymentRequest=function(){},s.PaymentRequest.prototype.handleActionMethod="handleCardAction",s.PaymentRequest.prototype.setupActionMethod="confirmCardSetup",s.PaymentRequest.prototype.initialize=function(){this.createPaymentRequest(),this.createPaymentRequestButton(),this.canMakePayment(),this.paymentRequestButton.on("click",this.button_click.bind(this))},s.PaymentRequest.prototype.button_click=function(t){},s.PaymentRequest.prototype.createPaymentRequestButton=function(){this.paymentRequestButton&&this.paymentRequestButton.destroy(),this.paymentRequestButton=this.elements.create("paymentRequestButton",{paymentRequest:this.paymentRequest,style:{paymentRequestButton:{type:this.params.button.type,theme:this.params.button.theme,height:this.params.button.height}}})},s.PaymentRequest.prototype.canMakePayment=function(){return new Promise(function(t){var e=this.paymentRequest;this.paymentRequest.canMakePayment().then(function(s){!s||s.applePay||s.googlePay||e!==this.paymentRequest||(this.can_pay=!0,this.create_button(),i(this.container).show(),t(s))}.bind(this))}.bind(this))},s.PaymentRequest.prototype.create_button=function(){this.paymentRequestButton.mount("#sswps-payment-request-container")},s.Afterpay=function(){},s.Afterpay.prototype.is_eligible=function(t){return t>=this.get_min()&&t<=this.get_max()},s.Afterpay.prototype.get_min=function(){var t=this.get_currency(),e=this.params.requirements[t];return e?e[1]:0},s.Afterpay.prototype.get_max=function(){var t=this.get_currency(),e=this.params.requirements[t];return e?e[2]:0},s.Afterpay.prototype.add_eligibility=function(t,e){i(t).length&&(this.is_eligible(e)?i(t).removeClass("afterpay-ineligible"):this.hide_ineligible_active()&&i(t).addClass("afterpay-ineligible"))},s.Afterpay.prototype.hide_ineligible_active=function(){return"yes"===this.params.hide_ineligible},s.CheckoutFields=function(t,e){this.params=t,this.page=e,this.session_values=this.supportsSessionStorage()&&sessionStorage.getItem("sswps_checkout_fields")?JSON.parse(sessionStorage.getItem("sswps_checkout_fields")):{},this.fields=new Map(Object.keys(this.params).map(function(t){return null===this.params[t].value&&(t in this.session_values&&null!==this.session_values[t]?this.params[t].value=this.session_values[t]:this.params[t].value=""),[t,this.params[t].value]}.bind(this))),("checkout"===e||"cart"===e&&i(document.body).is(".woocommerce-checkout")||i("form.woocommerce-checkout").length>0)&&(i(document.body).on("updated_checkout",this.updated_checkout.bind(this)),i(document.body).on("change",'[name^="billing_"], [name^="shipping_"]',this.onChange.bind(this)),i("form.checkout").on("change",'.input-text:not([name^="billing_"], [name^="shipping_"], [name="account_password"]), select:not([name^="billing_"], [name^="shipping_"])',this.onChange.bind(this)),i("form.checkout").on("change",'[name="ship_to_different_address"]',this.on_ship_to_address_change.bind(this)),this.init_i18n(),i('[name="ship_to_different_address"]').is(":checked")?this.update_required_fields(i("#shipping_country").val(),"shipping_country"):this.update_required_fields(i("#billing_country").val(),"billing_country"))},s.CheckoutFields.prototype.supportsSessionStorage=function(){return"sessionStorage"in e&&null!==e.sessionStorage&&["getItem","setItem"].reduce(function(t,e){return t?e in sessionStorage:t}.bind(this),!0)},s.CheckoutFields.prototype.init_i18n=function(){"undefined"!=typeof wc_address_i18n_params?this.locales=JSON.parse(wc_address_i18n_params.locale.replace(/&quot;/g,'"')):this.locales=null},s.CheckoutFields.prototype.updated_checkout=function(){this.syncCheckoutFieldsWithDOM()},s.CheckoutFields.prototype.syncCheckoutFieldsWithDOM=function(){for(var t in this.params)i("#"+t).length&&this.fields.set(t,i("#"+t).val())},s.CheckoutFields.prototype.onChange=function(t){try{var e=t.currentTarget.name,i=t.currentTarget.value;this.fields.set(e,i),"billing_country"!==e&&"shipping_country"!==e||this.update_required_fields(i,e),this.supportsSessionStorage()&&sessionStorage.setItem("sswps_checkout_fields",JSON.stringify(this.toJson()))}catch(t){console.log(t)}},s.CheckoutFields.prototype.update_required_fields=function(t,e){if(this.locales){var s=e.indexOf("billing_")>-1?"billing_":"shipping_",a=void 0!==this.locales[t]?this.locales[t]:this.locales.default,n=i.extend(!0,{},this.locales.default,a);for(var o in n){var r=s+o;this.params[r]&&(this.params[r]=i.extend(!0,{},this.params[r],n[o]))}}},s.CheckoutFields.prototype.on_ship_to_address_change=function(t){i(t.currentTarget).is(":checked")&&this.update_required_fields(i("#shipping_country").val(),"shipping_country")},s.CheckoutFields.prototype.requestFieldInWallet=function(t){return"checkout"===this.page?this.required(t)&&this.isEmpty(t):"order_pay"!==this.page&&this.required(t)},s.CheckoutFields.prototype.set=function(t,e,i){this[t]&&"function"==typeof this[t]?this[t]().set.call(this,e,i):this.fields.set(t,e)},s.CheckoutFields.prototype.get=function(t,e){var s;return this[t]&&"function"==typeof this[t]?s=this[t]().get.call(this,e):null!=(s=this.fields.get(t))&&""!==s||(void 0!==e?s=e:i('[name="'+t+'"]').length&&(s=i('[name="'+t+'"]').val())),void 0===s?"":s},s.CheckoutFields.prototype.required=function(t){return!(!this.params[t]||void 0===this.params[t].required)&&!!this.params[t].required},s.CheckoutFields.prototype.exists=function(t){return t in this.params},s.CheckoutFields.prototype.isEmpty=function(t){if(this.fields.has(t)){var e=this.fields.get(t);return null==e||"string"==typeof e&&0===e.trim().length}return!0},s.CheckoutFields.prototype.isValid=function(t){if(this[t]&&"function"==typeof this[t])return this[t]().isValid.apply(this,Array.prototype.slice.call(arguments,1))},s.CheckoutFields.prototype.first_name=function(){return{set:function(t,e){this.fields.set(e+"_first_name",t)},get:function(t){return this.fields.get(t+"_first_name")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.last_name=function(){return{set:function(t,e){this.fields.set(e+"_last_name",t)},get:function(t){return this.fields.get(t+"_last_name")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.address_1=function(){return{set:function(t,e){this.fields.set(e+"_address_1",t)},get:function(t){return this.fields.get(t+"_address_1")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.address_2=function(){return{set:function(t,e){this.fields.set(e+"_address_2",t)},get:function(t){return this.fields.get(t+"_address_2")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.name=function(){return{set:function(t,e){this.fields.set(e+"_full_name",t);var i=t.split(" ");if(i.length>1){var s=i.pop();this.fields.set(e+"_first_name",i.join(" ")),this.fields.set(e+"_last_name",s)}else 1==i.length&&this.fields.set(e+"_first_name",i[0])},get:function(t){return this.fields.get(t+"_first_name")+" "+this.fields.get(t+"_last_name")}}},s.CheckoutFields.prototype.email=function(){return{set:function(t,e){this.fields.set(e+"_email",t)},get:function(t){return this.fields.get(t+"_email")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.phone=function(){return{set:function(t,e){this.fields.set(e+"_phone",t)},get:function(t){return this.fields.get(t+"_phone")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.country=function(){return{set:function(t,e){this.fields.set(e+"_country",t)},get:function(t){return this.fields.get(t+"_country")},isValid:function(t){return"string"==typeof t&&2===t.length}}},s.CheckoutFields.prototype.state=function(){return{set:function(t,e){(t=t.toUpperCase()).length>2&&"checkout"===this.page&&i("#"+e+"_state option").each((function(){var e=i(this),s=e.text().toUpperCase();t===s&&(t=e.val())})),this.fields.set(e+"_state",t)},get:function(t){return this.fields.get(t+"_state")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.city=function(){return{set:function(t,e){this.fields.set(e+"_city",t)},get:function(t){return this.fields.get(t+"_city")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.postcode=function(){return{set:function(t,e){this.fields.set(e+"_postcode",t)},get:function(t){return this.fields.get(t+"_postcode")},isValid:function(t){return"string"==typeof t&&t.length>0}}},s.CheckoutFields.prototype.recipient=function(){return s.CheckoutFields.prototype.name.apply(this,arguments)},s.CheckoutFields.prototype.payerName=function(){return s.CheckoutFields.prototype.name.apply(this,arguments)},s.CheckoutFields.prototype.payerEmail=function(){return s.CheckoutFields.prototype.email.apply(this,arguments)},s.CheckoutFields.prototype.payerPhone=function(){return s.CheckoutFields.prototype.phone.apply(this,arguments)},s.CheckoutFields.prototype.phoneNumber=function(){return s.CheckoutFields.prototype.phone.apply(this,arguments)},s.CheckoutFields.prototype.countryCode=function(){return s.CheckoutFields.prototype.country.apply(this,arguments)},s.CheckoutFields.prototype.address1=function(){return s.CheckoutFields.prototype.address_1.apply(this,arguments)},s.CheckoutFields.prototype.address2=function(){return s.CheckoutFields.prototype.address_2.apply(this,arguments)},s.CheckoutFields.prototype.line1=function(){return s.CheckoutFields.prototype.address_1.apply(this,arguments)},s.CheckoutFields.prototype.line2=function(){return s.CheckoutFields.prototype.address_2.apply(this,arguments)},s.CheckoutFields.prototype.addressLine=function(){return{set:function(t,e){t.length>0&&this.fields.set(e+"_address_1",t[0]),t.length>1&&this.fields.set(e+"_address_2",t[1])},get:function(t){return[this.fields.get(t+"_address_1"),this.fields.get(t+"_address_2")]},isValid:function(t){return t.length>0&&("string"==typeof t[0]&&t[0].length>0)}}},s.CheckoutFields.prototype.region=function(){return s.CheckoutFields.prototype.state.apply(this,arguments)},s.CheckoutFields.prototype.administrativeArea=function(){return s.CheckoutFields.prototype.state.apply(this,arguments)},s.CheckoutFields.prototype.locality=function(){return s.CheckoutFields.prototype.city.apply(this,arguments)},s.CheckoutFields.prototype.postal_code=function(){return s.CheckoutFields.prototype.postcode.apply(this,arguments)},s.CheckoutFields.prototype.postalCode=function(){return s.CheckoutFields.prototype.postcode.apply(this,arguments)},s.CheckoutFields.prototype.toJson=function(){var t={};return this.fields.forEach((function(e,i){t[i]=e})),t},s.CheckoutFields.prototype.toFormFields=function(t){var e=[];this.fields.forEach((function(t,s){var a='[name="'+s+'"]';i(a).length&&""!==t&&(i(a).val()!==t&&i(a).is("select")&&e.push(a),i(a).val(t))})),e.length>0&&i(e.join(",")).trigger("change"),void 0!==t&&i(document.body).trigger("update_checkout",t)},s.CheckoutFields.prototype.validateFields=function(t){for(var e in this.params){var s=this.params[e];if(e.indexOf(t)>-1&&s.required&&i("#"+e).length&&i("#"+e).is(":visible")){var a=i("#"+e).val();if(null==a||0===a.length)return!1}}return!0};try{a=Stripe(sswps_params_v3.api_key,sswps_params_v3.stripeParams),s.stripe=a}catch(t){console.log(t)}var r=new s.CheckoutFields(sswps_checkout_fields,sswps_params_v3.page)}(window,jQuery,window.sswps)}}]);
//# sourceMappingURL=749.js.map