jQuery((function(e){function t(){this.init()}t.prototype.init=function(){e(document.body).on("payment_method_selected",this.payment_method_selected.bind(this)),e(document.body).on("change",'[name="payment_method"]',this.payment_method_selected.bind(this)),e(document.body).on("updated_checkout",this.updated_checkout.bind(this)),e(document.body).on("change",".sswps-payment-type",this.payment_type_change.bind(this)),e(document.body).on("updated_wc_div, updated_cart_totals",this.cart_html.bind(this)),this.saved_payment_methods(),"MutationObserver"in window&&null!==document.querySelector("form.checkout")&&new MutationObserver(this.observer_callback.bind(this)).observe(document.querySelector("form.checkout"),{attributes:!1,childList:!0,subtree:!0}),e(document.body).is(".woocommerce-cart")&&(e(window).on("resize",this.cart_html),this.cart_html())},t.prototype.observer_callback=function(t,s){try{if(t.length>0)for(var o=0;o<t.length;o++)if(t[o].addedNodes&&t[o].addedNodes.length>0)for(var n=t[o].addedNodes,d=0;d<n.length;d++)"UL"===n[d].nodeName&&n[d].classList&&n[d].classList.value.indexOf("payment_methods")&&(e("select.sswps-saved-methods").removeClass("enhanced"),e("select.sswps-saved-methods + .select2").remove(),this.saved_payment_methods())}catch(e){}},t.prototype.payment_method_selected=function(){var t=this.get_payment_method();e(document.body).triggerHandler("sswps_payment_method_selected",t)},t.prototype.updated_checkout=function(){this.saved_payment_methods(),e(document.body).hasClass("woocommerce-checkout")&&e(".payment_methods").width()<475&&e(".payment_methods").addClass("stripe-small")},t.prototype.payment_type_change=function(){var t=this.get_payment_method(),s=e('[name="'+t+'_payment_type_key"]:checked');0===s.length||"new"===s.val()?(e("."+t+"-saved-methods-container").slideUp(400,(function(){e("."+t+"-new-method-container").slideDown(400)})),e(document.body).triggerHandler("sswps_new_method_"+t)):(e("."+t+"-new-method-container").slideUp(400,(function(){e("."+t+"-saved-methods-container").slideDown(400)})),e(document.body).triggerHandler("sswps_saved_method_"+t))},t.prototype.saved_payment_methods=function(){e().selectWoo&&e("select.sswps-saved-methods").length&&!e("select.sswps-saved-methods").hasClass("enhanced")&&e("select.sswps-saved-methods").selectWoo({width:"100%",templateResult:this.output_template,templateSelection:this.output_template,language:{noResults:function(){return sswps_form_handler_params.no_results}.bind(this)}}).addClass("enhanced").trigger("change")},t.prototype.get_payment_method=function(){return e('[name="payment_method"]:checked').val()},t.prototype.get_payment_type=function(t){return e('[name="'+t+'"]:checked').val()},t.prototype.output_template=function(t,s){var o=e(t.element).attr("class");return e.each(e(t.element).parent().find("option"),(function(){e(s).removeClass(e(this).attr("class"))})),e(s).addClass("sswps-select2-container "+o),e(document.body).triggerHandler("sswps_payment_method_template",[t,s]),t.text},t.prototype.cart_html=function(){var t=e(".checkout-button"),s=t.outerWidth();s&&e(".sswps_cart_payment_methods").length&&e(".sswps_cart_payment_methods ").width(s),"none"!==t.css("float")&&e(".sswps_cart_payment_methods ").css("float",t.css("float"))},new t}));
//# sourceMappingURL=form-handler.js.map