{"version":3,"file":"googlepay-checkout.js","mappings":"CAAC,SAAUA,EAAGC,GAKV,SAASC,IACLC,KAAKC,SAAU,EACfH,EAAMI,YAAYC,KAAKH,KAAMI,iCAC7BN,EAAMO,gBAAgBF,KAAKH,MAC3BM,OAAOC,iBAAiB,aAAcP,KAAKQ,WAAWC,KAAKT,OAC3DA,KAAKU,mBACT,CAMAX,EAAKY,UAAYd,EAAEe,OAAO,CAAC,EAAGd,EAAMI,YAAYS,UAAWb,EAAMO,gBAAgBM,UAAWb,EAAMe,UAAUF,WAK5GZ,EAAKY,UAAUG,WAAa,WACnBjB,EAAEG,KAAKe,WAAWC,SAIvBhB,KAAKiB,uBACLjB,KAAKkB,eAAeC,KAAK,WAErB,GADAtB,EAAEG,KAAKe,WAAWK,OACdpB,KAAKqB,iBAAkB,CACvB,IAAIC,EAAUzB,EAAEG,KAAKuB,eAAeC,aAAa3B,EAAEe,OAAO,CAAC,EAAGZ,KAAKyB,qBAAsB,CACrFC,QAAS1B,KAAK2B,gBAAgBlB,KAAKT,UAEvCH,EAAEG,KAAK4B,kBAAkBR,OAAOS,SAAS,UAAUC,QAAQ,0BAA0BD,SAAS,UAC9FhC,EAAEG,KAAK4B,kBAAkBG,QAAQC,OAAOV,EAC5C,CACJ,EAAEb,KAAKT,OACX,EAKAD,EAAKY,UAAUsB,cAAgB,WAC3BnC,EAAMe,UAAUF,UAAUsB,cAAcC,MAAMlC,KAAMmC,WACpDtC,EAAE,gBAAgBuC,MAAMpC,KAAKsB,SAC7BtB,KAAKqC,iCACT,EAKAtC,EAAKY,UAAU2B,iBAAmB,WAC9BtC,KAAKc,YACT,EAMAf,EAAKY,UAAUgB,gBAAkB,WAC7B3B,KAAKuC,mBAAmBvC,KAAKwC,YAC7BxC,KAAKyC,oBAAmB,GACxB5C,EAAE,kBAAkB6C,KAAK,WAAW,GACpC5C,EAAMe,UAAUF,UAAUgC,MAAMT,MAAMlC,KAAMmC,UAChD,EAEApC,EAAKY,UAAUiC,kBAAoB,WAC/B9C,EAAMO,gBAAgBM,UAAUiC,kBAAkBV,MAAMlC,KAAMmC,WAC1DnC,KAAK6C,wBAAwBC,yBAC7B9C,KAAK+C,8BAET/C,KAAKgD,OAAOC,aAAa,CAACC,wBAAwB,IAC9ClD,KAAKmD,yBACLnD,KAAKoD,WAAWC,QAAQ,SAEhC,EAEAtD,EAAKY,UAAU2C,qBAAuB,SAAUC,GAC5CvD,KAAKwD,wBAAwBD,EAASE,SACtCzD,KAAKgD,OAAOC,aAAa,CAACC,wBAAwB,GACtD,EAEA,IAAInD,CAEP,CArFA,CAqFC2D,OAAQpD,OAAOR","sources":["webpack://simple-secure-stripe/./src/assets/js/frontend/googlepay-checkout.js"],"sourcesContent":["(function ($, sswps) {\n\n    /**\n     * @construct\n     */\n    function GPay() {\n        this.can_pay = false;\n        sswps.BaseGateway.call(this, sswps_googlepay_checkout_params);\n        sswps.CheckoutGateway.call(this);\n        window.addEventListener('hashchange', this.hashchange.bind(this));\n        this.has3DSecureParams();\n    }\n\n    /**\n     * [prototype description]\n     * @type {[type]}\n     */\n    GPay.prototype = $.extend({}, sswps.BaseGateway.prototype, sswps.CheckoutGateway.prototype, sswps.GooglePay.prototype);\n\n    /**\n     * @return {[type]}\n     */\n    GPay.prototype.initialize = function () {\n        if (!$(this.container).length) {\n            return;\n        }\n        // create payments client\n        this.createPaymentsClient();\n        this.isReadyToPay().then(function () {\n            $(this.container).show();\n            if (this.banner_enabled()) {\n                var $button = $(this.paymentsClient.createButton($.extend({}, this.get_button_options(), {\n                    onClick: this.banner_checkout.bind(this)\n                })));\n                $(this.banner_container).show().addClass('active').closest('.sswps-banner-checkout').addClass('active');\n                $(this.banner_container).empty().append($button);\n            }\n        }.bind(this))\n    }\n\n    /**\n     * @return {[type]}\n     */\n    GPay.prototype.create_button = function () {\n        sswps.GooglePay.prototype.create_button.apply(this, arguments);\n        $('#place_order').after(this.$button);\n        this.trigger_payment_method_selected();\n    }\n\n    /**\n     * @return {[type]}\n     */\n    GPay.prototype.updated_checkout = function () {\n        this.initialize();\n    }\n\n    /**\n     * [banner_checkout description]\n     * @return {[type]} [description]\n     */\n    GPay.prototype.banner_checkout = function () {\n        this.set_payment_method(this.gateway_id);\n        this.set_use_new_option(true);\n        $('[name=\"terms\"]').prop('checked', true);\n        sswps.GooglePay.prototype.start.apply(this, arguments);\n    }\n\n    GPay.prototype.on_token_received = function () {\n        sswps.CheckoutGateway.prototype.on_token_received.apply(this, arguments);\n        if (this.payment_request_options.shippingAddressRequired) {\n            this.maybe_set_ship_to_different();\n        }\n        this.fields.toFormFields({update_shipping_method: false});\n        if (this.checkout_fields_valid()) {\n            this.get_form().trigger('submit');\n        }\n    }\n\n    GPay.prototype.payment_data_updated = function (response) {\n        this.populate_billing_fields(response.address);\n        this.fields.toFormFields({update_shipping_method: false});\n    }\n\n    new GPay();\n\n}(jQuery, window.sswps))"],"names":["$","sswps","GPay","this","can_pay","BaseGateway","call","sswps_googlepay_checkout_params","CheckoutGateway","window","addEventListener","hashchange","bind","has3DSecureParams","prototype","extend","GooglePay","initialize","container","length","createPaymentsClient","isReadyToPay","then","show","banner_enabled","$button","paymentsClient","createButton","get_button_options","onClick","banner_checkout","banner_container","addClass","closest","empty","append","create_button","apply","arguments","after","trigger_payment_method_selected","updated_checkout","set_payment_method","gateway_id","set_use_new_option","prop","start","on_token_received","payment_request_options","shippingAddressRequired","maybe_set_ship_to_different","fields","toFormFields","update_shipping_method","checkout_fields_valid","get_form","trigger","payment_data_updated","response","populate_billing_fields","address","jQuery"],"sourceRoot":""}